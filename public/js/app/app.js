!function(){"use strict";angular.module("fundator",["fundator.controllers","fundator.filters","fundator.services","fundator.directives","fundator.routes","fundator.config"]);angular.module("fundator.routes",["ui.router","satellizer"]),angular.module("fundator.controllers",["ngResource","ngCookies","ngAnimate","ui.bootstrap","ui.router","satellizer","angularMoment","angular-owl-carousel","ngImgCrop","angularFileUpload","bootstrapLightbox"]),angular.module("fundator.filters",["ordinal"]),angular.module("fundator.services",["ui.router"]),angular.module("fundator.directives",["dibari.angular-ellipsis","localytics.directives","textAngular","flow","angular-ladda"]),angular.module("fundator.config",[])}(),function(){"use strict";angular.module("fundator.routes").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){var i=function(e,t){return"undefined"==typeof t&&(t=e),"./views/app/app/"+e+"/"+t+".html"};t.otherwise("/contests"),e.state("app",{"abstract":!0,views:{header:{templateUrl:i("header"),controller:"HeaderCtrl"},navigation:{templateUrl:i("header","navigation"),controller:"NavigationCtrl"},flashNotice:{templateUrl:i("header","flash-notice"),controller:"FlashNoticeCtrl"},footer:{templateUrl:i("footer"),controller:"FooterController"},notifications:{templateUrl:i("notifications","notifications"),controller:"NotificationsCtrl"},quickUpdate:{templateUrl:i("quick-update","quick-update"),controller:"QuickUpdateCtrl"},main:{}}}).state("app.auth",{url:"/auth","abstract":!0}).state("app.auth.login",{url:"/login",data:{needLogin:!1},views:{"main@":{templateUrl:i("auth","login"),controller:"AuthCtrl"}}}).state("app.auth.signup",{url:"/signup",data:{needLogin:!1},views:{"main@":{templateUrl:i("auth","signup"),controller:"AuthCtrl"}}}).state("app.auth.forgot",{url:"/forgot",data:{needLogin:!1},views:{"main@":{templateUrl:i("auth","forgot"),controller:"AuthCtrl"}}}).state("app.auth.recover",{url:"/recover?token&email",data:{needLogin:!1},views:{"main@":{templateUrl:i("auth","recover"),controller:"AuthRecoverCtrl"}}}).state("app.auth.confirm",{url:"/confirm?code&email",data:{needLogin:!1},views:{"main@":{templateUrl:i("auth","confirm"),controller:"AuthConfirmCtrl"}}}).state("app.auth.register",{url:"/register",data:{needLogin:!0},views:{"main@":{templateUrl:i("auth","register"),controller:"RegisterCtrl"}}}).state("app.contests",{url:"/contests",data:{needLogin:!0},views:{"main@":{templateUrl:i("contest"),controller:"ContestCtrl"}}}).state("app.contest",{url:"/contests/:contestId/:contestName",data:{needLogin:!0},views:{"main@":{templateUrl:i("contest","contest-single"),controller:"ContestSingleCtrl"}}}).state("app.expert",{url:"/expert",data:{needLogin:!0},views:{"main@":{templateUrl:i("expert"),controller:"ExpertCtrl"}}}).state("app.expertise",{url:"/expertise/:expertiseId",data:{needLogin:!0},views:{"main@":{templateUrl:i("expert","expertise"),controller:"ExpertiseCtrl"}}}).state("app.invest",{url:"/invest",data:{needLogin:!0},views:{"main@":{templateUrl:i("invest"),controller:"InvestCtrl"}}}).state("app.create",{url:"/create?projectId",data:{needLogin:!0},views:{"main@":{templateUrl:i("create"),controller:"CreateCtrl"}}}).state("app.create.details",{url:"/details",data:{needLogin:!0},views:{steps:{templateUrl:i("create","create-details"),controller:"CreateDetailsCtrl"}}}).state("app.create.superexpert",{url:"/super-expert",data:{needLogin:!0},views:{steps:{templateUrl:i("create","create-super-expert"),controller:"CreateSECtrl"}}}).state("app.create.expertise",{url:"/expertise",data:{needLogin:!0},views:{steps:{templateUrl:i("create","create-expertise"),controller:"CreateExpertiseCtrl"}}}).state("app.create.experts",{url:"/experts",data:{needLogin:!0},views:{steps:{templateUrl:i("create","create-experts"),controller:"CreateExpertCtrl"}}}).state("app.create.budget",{url:"/budget",data:{needLogin:!0},views:{steps:{templateUrl:i("create","create-budget"),controller:"CreateBudgetCtrl"}}}).state("app.create.investors",{url:"/investors",data:{needLogin:!0},views:{steps:{templateUrl:i("create","create-investors"),controller:"CreateInvestorsCtrl"}}}).state("app.transaction",{url:"/transaction",data:{needLogin:!0},views:{"main@":{templateUrl:i("transaction","transaction"),controller:"TransactionCtrl"}}}).state("app.grabshare",{url:"/grab-a-share",data:{needLogin:!0},views:{"main@":{templateUrl:i("invest","grab-a-share"),controller:"GrabShareCtrl"}}}).state("app.notifications",{url:"/notifications",data:{needLogin:!0},views:{"main@":{templateUrl:i("contest"),controller:"ContestCtrl"}}}).state("app.page",{url:"/:slug",data:{needLogin:!1},views:{"main@":{templateUrl:i("page"),controller:"PageCtrl"}}})}])}(),function(){"use strict";angular.module("fundator.routes").run(["$rootScope","$state","$stateParams","$auth","$timeout","$http","$urlRouter","$filter","$cookies","FdNotifications","FdScroller",function(e,t,a,i,n,o,r,s,l,u,d){e.$state=t,e.$stateParams=a,e.initialLocationSetup=!1,e.initialRoleAssignment=!1,e.activeRole="",e.activeState=null,e.activeStateParams=null,e.appLoading=!0,e.notificationCollapse=!1,e.isNavShown=!1,e.collapseNotification=function(t){e.notificationCollapse=t},e.toggleNavigation=function(){e.isNavShown>=.5?e.isNavShown=0:e.isNavShown=.5},e.$on("startLoading",function(){e.appLoading=!0}),e.$on("stopLoading",function(){e.appLoading=!1}),e.$on("$locationChangeSuccess",function(a){"undefined"!=typeof e.user&&0==e.user.registered&&(console.log("going to register"),t.go("app.auth.register")),"undefined"==typeof e.user&&e.initialLocationSetup!==!0&&(a.preventDefault(),i.isAuthenticated()?(e.authenticated=!0,o.get("/api/user?token="+i.getToken()).then(function(a){if("undefined"==typeof a.error)if(e.user=a.data,u.init(),0==e.user.registered)t.go("app.auth.register");else{var i=e.user.role,n=e.user.role;"undefined"!=typeof l.get("fd_active_role")&&(n=l.get("fd_active_role"));var o=s("filter")(e.user.user_roles,{role:n},!0);if("undefined"!=typeof o&&o.length>0){var r=o[0];e.switchUserRole(r.role,r.id,!e.initialRoleAssignment)}else e.switchUserRole(i.role,i.id,!e.initialRoleAssignment)}},function(){i.logout().then(function(){localStorage.removeItem("fundator_token"),e.authenticated=!1,e.user=void 0})}),r.sync(),r.listen()):e.authenticated=!1)},function(t){i.logout().then(function(){localStorage.removeItem("fundator_token"),e.authenticated=!1,e.user=void 0})}),e.$on("$stateChangeStart",function(a,n,o,r,s){if(i.isAuthenticated())return void(e.initialRoleAssignment||(e.activeState=n,e.activeStateParams=o,a.preventDefault()));var l=!1;return l="undefined"==typeof n.data.needLogin?!0:n.data.needLogin,void(l&&(e.activeState=n,e.activeStateParams=o,a.preventDefault(),t.go("app.auth.login",{},{reload:!0})))});var c=function(e,t){return"undefined"==typeof t&&(t=e),"./views/app/app/"+e+"/"+t+".html"};e.switchUserRole=function(a,i,n,r,s){e.activeRole=a,l.put("fd_active_role",a),"undefined"==typeof r&&(r=t.current.name),"undefined"==typeof s&&(s=t.current.params),e.initialRoleAssignment||(e.initialRoleAssignment=!0),"undefined"!=typeof e.user&&0===e.user.user_roles.length&&e.user.user_roles.push({id:null,name:a,role:a});var u=[{route:"app",view:"quickUpdate",roles:{creator:c("quick-update","quick-update-creator"),expert:c("quick-update","quick-update-expert"),investor:c("quick-update","quick-update-investor"),jury:c("quick-update","quick-update-jury")},defaultTemplate:c("quick-update")},{route:"app.contest",view:"main@",roles:{creator:c("contest","contest-single-creator"),jury:c("contest","contest-single-jury")},defaultTemplate:c("contest","contest-single")},{route:"app.contests",view:"main@",roles:{creator:c("contest","contest-creator"),jury:c("contest","contest-jury")},defaultTemplate:c("contest")}];angular.forEach(u,function(e){var i=e.roles[a],n=t.get(e.route).views[e.view];"undefined"!=typeof i?n.templateUrl=i:n.templateUrl=e.defaultTemplate});var d=null;switch(a){case"creator":d="/api/creators/"+i;break;case"investor":d="/api/investors/"+i}null!==d?o.get(d).then(function(i){e.user[a]=i.data,""===r&&(r=e.activeState.name,s=e.activeStateParams),t.go(r,s,{reload:n})}):(""===r&&(r=e.activeState.name,s=e.activeStateParams),t.go(r,s,{reload:n}))},e.hasUserRole=function(t){if("undefined"!=typeof e.user){var a=s("filter")(e.user.user_roles,{role:t},!0);if(a.length>0)return!0}return!1}}])}(),function(){"use strict";angular.module("fundator.directives").directive("fdChart",function(){return{template:'<canvas id="fdChart" width="{{width}}" height="{{height}}"></canvas>',restrict:"E",transclude:!0,scope:{data:"="},link:function(e,t,a){e.width=a.width,e.height=a.height,t.find("canvas").width(a.width),t.find("canvas").height(a.height);var i=[{value:4,color:"#006837",highlight:"#02753f",label:"Public"},{value:96,color:"#94c44d",highlight:"#8cba47",label:"Fundator"}],n={labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Planned",fillColor:"transparent",strokeColor:"#A6A8AB",pointColor:"#006837",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"#006837",data:[65,60,59,63,59,58,63,64,65,66,70,79]},{label:"Realized",fillColor:"transparent",strokeColor:"#A6A8AB",pointColor:"#93C658",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"#93C658",data:[28,22,16,21,17,20,27,25,23,32,40,45]}]};if("A"===a.data){var o=t.find("canvas")[0].getContext("2d");new Chart(o).Pie(i,{segmentShowStroke:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'});t.find("canvas").after('<div class="pie-chart-labels"></div>'),jQuery(i).each(function(e,a){t.find("canvas + .pie-chart-labels").prepend('<div class="pie-chart-label"><span style="background-color: '+a.color+';"></span> '+a.value+"% "+a.label+"</div>")})}else{var o=t.find("canvas")[0].getContext("2d");new Chart(o).Line(n,{segmentShowStroke:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'});t.find("canvas").after('<div class="line-chart-labels"></div>'),t.find("canvas + .line-chart-labels").prepend('<div class="line-chart-label"><span style="background-color: #006837;"></span> Realized</div>'),t.find("canvas + .line-chart-labels").prepend('<div class="line-chart-label"><span style="background-color: #93C658;"></span> Planned</div>')}}}})}(),function(){"use strict";angular.module("fundator.directives").directive("fdLoader",function(){return{scope:{viewBox:"@"},restrict:"E",template:'<div class="fd-loader la-ball-pulse"><div></div><div></div><div></div></div>',link:function(e,t,a){t.addClass(a["class"])}}})}(),function(){"use strict";angular.module("fundator.directives").directive("fdMessenger",["$rootScope","$resource","$timeout",function(e,t,a){return{template:'<div class="chatbox" ng-if="threadId"><div class="chatRow" ng-repeat="message in messages"><div class="chat-userSendbox" ng-class="{\'chat-send\': user.id == message.user.id, \'chat-comein\': user.id != message.user.id}"><div class="chat-content">{{message.body}}</div></div><div class="caht-label" ng-class=\'{"text-right": user.id == message.user.id}\'>{{message.user.name}} <span>{{message.created_at | amDateFormat:"MMM Do YYYY"}}:</span></div></div><p class="no-have no-margin" ng-if="messages.length === 0">There are currently no messages.</p></div><form class="chatsendform" ng-if="threadId"><div class="input-group"><input type="text" class="form-control" placeholder="Enter your message here ..." ng-model="data.messageToSend" fd-enter="sendMessage()"><span class="input-group-addon sendbtn" ng-click="sendMessage()"><span class="glyphicon">Send</span></span></div></form>',restrict:"E",scope:{threadId:"="},link:function(i,n,o){i.data={},i.messages=[],i.user=e.user;var r=t("/api/messages/:threadId",{threadId:"@id"},{get:{method:"GET",isArray:!0}});i.$watch("threadId",function(e){"undefined"!=typeof e&&null!==e&&r.get({threadId:i.threadId}).$promise.then(function(e){console.log("retriving the thread : "+i.threadId),i.messages=e,$(".chatbox").animate({scrollTop:1e4})})}),i.sendMessage=function(){var e=new r;e.thread_id=i.threadId,e.message=i.data.messageToSend,e.$save().then(function(e){i.messages.push(e),i.data.messageToSend="",a(function(){$(".chatbox").animate({scrollTop:1e4})},100)})}}}}])}(),function(){"use strict";function e(e){return angular.isUndefined(e)||""===e||null===e||e!==e}angular.module("fundator.directives").directive("ngMin",function(){return{restrict:"A",require:"ngModel",link:function(t,a,i,n){t.$watch(i.ngMin,function(){n.$setViewValue(n.$viewValue)});var o=function(a){var o=t.$eval(i.ngMin)||0;return!e(a)&&o>a?void n.$setValidity("ngMin",!1):(n.$setValidity("ngMin",!0),a)};n.$parsers.push(o),n.$formatters.push(o)}}}),angular.module("fundator.directives").directive("ngMax",function(){return{restrict:"A",require:"ngModel",link:function(t,a,i,n){t.$watch(i.ngMax,function(){n.$setViewValue(n.$viewValue)});var o=function(a){var o=t.$eval(i.ngMax)||1/0;return!e(a)&&a>o?void n.$setValidity("ngMax",!1):(n.$setValidity("ngMax",!0),a)};n.$parsers.push(o),n.$formatters.push(o)}}})}(),function(){"use strict";angular.module("fundator.directives").filter("trustedHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}(),function(){"use strict";angular.module("fundator.services").factory("FdNotifications",["$rootScope","$q","$interval","$http","$state",function(e,t,a,i,n){var o={notifications:[],unread:0},r=function(e,t,a){o.notifications.unshift({type:e,title:t,message:a})};return{init:function(t){e.$watch("user",function(e){"undefined"!=typeof e&&("undefined"!=typeof t?o=t:i.get("/api/notifications/"+e.id).then(function(e){o=e.data}))})},getLatestNotifications:function(){var e=t.defer(),i=a(function(){if(o.notifications.length>0){var t=angular.copy(o);t.notifications=t.notifications.slice(0,5),a.cancel(i),e.resolve(t)}},1e3);return e.promise},readNotification:function(e){return i.post("/api/notifications/"+notificationId+"/read").then(function(t){e.read=1})},readAllNotifications:function(){return i.post("/api/notifications/user/"+e.user.id+"/read").then(function(e){o.unread=0})},getNotifications:function(){return notifications},notify:function(e,t,a,i){toaster.pop(e,t,a),i&&r(e,t,a)},notifyError:function(){toaster.pop("error",title,message),r(type,title,message)}}}])}(),function(){"use strict";angular.module("fundator.services").factory("FdScroller",["$window",function(e){return{toTop:function(){var e=$("html, body");e.stop().animate({scrollTop:0},"500","swing")},toSection:function(e){var t=$(e);if(console.log(t),t.length>0){var a=t.offset().top-70,i=$("html, body");i.stop().animate({scrollTop:a},"500","swing")}}}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("AuthCtrl",["$rootScope","$scope","$state","$auth","$http","$timeout","FdScroller",function(e,t,a,i,n,o,r){t.$on("$viewContentLoaded",function(){o(function(){e.appLoaded=!0},1e3)}),e.$broadcast("stopLoading"),i.isAuthenticated()?a.go("app.home",{}):r.toTop(),t.data={},t.signup=function(){var e={name:t.data.name,email:t.data.email,password:t.data.password};n.post("/api/authenticate/signup",e).then(function(e){"undefined"==typeof e.data.error&&e.data.success===!0&&"undefined"!=typeof e.data.message&&(t.errorMessage=null,t.successMessage=e.data.message)},function(e){"undefined"!=typeof e.data.message.email&&(console.log(e.data.message.email[0]),t.successMessage=null,t.errorMessage=e.data.message.email[0])})},t.login=function(){t.errorMessage="",e.$broadcast("startLoading"),r.toTop();var n={email:t.data.email,password:t.data.password};i.login(n).then(function(t){i.setToken(t.data.token);var n=i.getPayload();console.log(n);var r=e.activeState.name,s=e.activeStateParams;o(function(){"undefined"==typeof r?a.go("app.auth.signup"):e.switchUserRole(n.role,n.role_id,!0,r,s)},100)},function(a){e.$broadcast("stopLoading"),"Unauthorized"===a.statusText?t.errorMessage="The email or password you entered is incorrect.":t.errorMessage=a.statusText})},t.authenticate=function(t){e.$broadcast("startLoading"),i.authenticate(t).then(function(e){console.log("Logged in "),console.log(e)})["catch"](function(t){console.log("Not Logged in "),console.log(t),e.$broadcast("stopLoading")})},t.logout=function(){i.logout().then(function(){localStorage.removeItem("fundator_token"),e.authenticated=!1,e.user=void 0,a.go("app.auth.login",{},{reload:!0})})}}]),angular.module("fundator.controllers").controller("AuthConfirmCtrl",["$rootScope","$scope","$state","$stateParams","$auth","$timeout","$http",function(e,t,a,i,n,o,r){if(e.$broadcast("stopLoading"),"undefined"!=typeof i.code&&"undefined"!=typeof i.email){var s={confirmation_code:i.code,email:i.email};t.loading=!0,r.post("/api/authenticate/confirm",s).then(function(e){console.log("result"),console.log(e),a.go("app.auth.login")},function(e){console.log("error"),console.log(e),t.errorMessage=e.data.error})["finally"](function(){t.loading=!1})}else a.go("app.auth.login")}]),angular.module("fundator.controllers").controller("AuthRecoverCtrl",["$rootScope","$scope","$state","$stateParams","$auth","$timeout","$http",function(e,t,a,i,n,o,r){e.$broadcast("stopLoading"),t.data={recoveryEmail:"",password:"",password_repeat:""},"undefined"==typeof i.token&&"undefined"==typeof i.email?t.viewState="recover":t.viewState="set",t.recover=function(){t.viewState="loading";var e={email:t.data.recoveryEmail};r.post("/api/authenticate/forgot",e).then(function(e){"undefined"==typeof e.data.error?(t.successMessage="A password reset link has been sent to your email.",t.viewState=""):(t.viewState="recover","Invalid User"===e.data.error?t.errorMessage="User does not exist":t.errorMessage="Error in recovering password")},function(e){t.viewState="recover","Invalid User"===e.data.error?t.errorMessage="User does not exist":t.errorMessage="Error in recovering password"})},t.set=function(){if(t.data.password.length>=6)if(t.data.password===t.data.password_repeat){t.viewState="loading";var e={token:i.token,email:i.email,password:t.data.password,password_confirmation:t.data.password_repeat};r.post("/api/authenticate/recover",e).then(function(e){"undefined"==typeof e.data.error?(n.removeToken(),n.setToken(e.data),a.go("app.auth.login",{}),console.log("sending from here ...")):(t.errorMessage="Error in resetting password",t.viewState="set")},function(e){t.errorMessage="Error in resetting password",t.viewState="set"})}else t.errorMessage="Passwords do not match!";else t.errorMessage="Passwords need to be longer than 6 characters!"}}])}(),function(){"use strict";function e(e){console.log(e);var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return new Blob([i],{type:a})}angular.module("fundator.directives").directive("focusOn",function(){return{scope:{focusOn:"="},link:function(e,t,a){console.log(e.focusOn),e.focusOn&&t[0].focus()}}}),angular.module("fundator.controllers").controller("RegisterCtrl",["$rootScope","$scope","$state","$auth","$timeout","$http","$resource","FdScroller","$filter","FileUploader",function(t,a,i,n,o,r,s,l,u,d){function c(){var e={selectedExpertise:"null",otherExpertise:{status:1}};a.inputtedExpertiseList.length>0&&a.inputtedExpertiseList[a.inputtedExpertiseList.length-1],console.log(a.inputtedExpertiseList),console.log(e),a.inputtedExpertiseList.length<3&&null!==e.selectedExpertise&&0!==e.otherExpertise.status&&a.inputtedExpertiseList.push({expertiseCategoryList:[],expertiseSubCategoryList:[],expertiseList:[],skillsList:[],selectedExpertiseCategory:null,otherExpertiseCategory:{name:"",status:0},selectedExpertiseSubCategory:null,otherExpertiseSubCategory:{name:"",status:0},selectedExpertise:null,otherExpertise:{name:"",status:0},selectedSkills:[],otherSkills:{list:[],status:0},step:1,loading:!1}),a.fetchExpertiseCategory(a.inputtedExpertiseList.length-1)}a.form={currentStep:1,totalSteps:3},a.totalSteps={creator:3,expert:4,investor:4},a.changeFormStep=function(e){l.toTop(),a.form.currentStep=e},a.countries=["Afghanistan","Ã…land Islands","Albania","Algeria","American Samoa","AndorrA","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic of the","Cook Islands","Costa Rica","Cote D'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and Mcdonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic Of","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People'S Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People'S Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","RWANDA","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province of China","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Viet Nam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],a.contactTimes=[{name:"Working hours (9am to 6 pm)",value:"9-6"},{name:"Evening time (6am to 9 pm)",value:"6-9"}],a.data={selectedRole:"creator",ageGate:"yes",countryOrigin:"",countryResidence:"",contactTime:"",expertiseForm:{step:1,loading:!0},croppedThumbnail:null,email:""};n.getPayload();t.$broadcast("stopLoading"),a.changeRole=function(){a.form.totalSteps=a.totalSteps[a.data.selectedRole]},a.getProgress=function(){return Math.min(a.form.currentStep/a.form.totalSteps*100,96)},a.getProgressInverted=function(){return Math.max(100*(1-a.form.currentStep/a.form.totalSteps),4)},a.thumbnail=null,a.croppedThumbnail=null,a.fileName="No file selected",a.imageError=null,t.$watch("user",function(e){"undefined"!=typeof e&&(1==e.registered&&i.go("app.contests"),a.data.email=e.email)},!0);var p=function(e,t){if(e.stopPropagation(),e.preventDefault(),a.$apply(function(){a.dropable=!1}),e.originalEvent.dataTransfer)var i=e.originalEvent.dataTransfer.files[0];else var i=e.currentTarget.files[0];var n=new FileReader;return-1==i.type.indexOf("image")?void a.$apply(function(e){e.imageError="Please select a valid image to crop"}):(a.imageError=null,a.fileName=i.name,n.onload=function(e){a.$apply(function(t){console.log(e.target.result),t.thumbnail=e.target.result})},void(i&&n.readAsDataURL(i)))};$(document).on("dragover dragleave dragenter",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault()}),$(document).on("dragenter",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault(),a.$apply(function(){a.dropable=!0})}),$(document).on("dragleave",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault(),a.$apply(function(){a.dropable=!1})}),$(document).on("change","#fileInput",function(e){p(e,!1)}),$(document).on("drop",".img-upload-show",function(e){p(e,!0)}),a.uploader=new d({url:"/api/files",removeAfterUpload:!0}),a.confirmImage=function(){var i=a.data.croppedThumbnail;a.uploader.onBeforeUploadItem=function(e){e.file.name="thumbnail_"+t.user.id+".png",e.formData=[],e.formData.push({attach:"thumbnail"}),e.formData.push({user_id:t.user.id}),a.data.imageSuccess=null},a.uploader.onSuccessItem=function(e,t,i,n){"undefined"!=typeof t.file?a.data.imageSuccess="Your profile picture was successfully uploaded!":a.data.imageError="Profile picture failed to upload, please try again!"},a.uploader.addToQueue(e(i)),a.uploader.uploadAll()},a.allSkills=s("api/skills").query(),a.inputtedExpertiseList=[],a.selectExpertiseCategory=function(e,t,i){0===i?(a.inputtedExpertiseList[e].selectedExpertiseCategory=t,a.inputtedExpertiseList[e].step=2,a.fetchExpertiseSubCategory(e)):(a.inputtedExpertiseList[e].selectedExpertiseSubCategory=t,a.inputtedExpertiseList[e].step=3,a.fetchExpertiseList(e))},a.deselectExpertiseCategory=function(e,t,i){0===i?(a.inputtedExpertiseList[t].selectedExpertiseCategory=null,a.inputtedExpertiseList[t].otherExpertiseCategory={name:"",status:0},a.inputtedExpertiseList[t].selectedExpertiseSubCategory=null,a.inputtedExpertiseList[t].otherExpertiseSubCategory={name:"",status:0},a.inputtedExpertiseList[t].selectedExpertise=null,a.inputtedExpertiseList[t].otherExpertise={name:"",status:0},a.inputtedExpertiseList[t].selectedSkills=[]):(a.inputtedExpertiseList[t].selectedExpertiseSubCategory=null,a.inputtedExpertiseList[t].otherExpertiseSubCategory={name:"",status:0},a.inputtedExpertiseList[t].selectedExpertise=null,a.inputtedExpertiseList[t].otherExpertise={name:"",status:0},a.inputtedExpertiseList[t].selectedSkills=[]),e.stopPropagation()},a.saveOtherExpertiseCategory=function(e,t){0===t?(a.inputtedExpertiseList[e].selectedExpertiseCategory=null,a.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,a.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},a.inputtedExpertiseList[e].selectedExpertise=null,a.inputtedExpertiseList[e].otherExpertise={name:"",status:0},a.inputtedExpertiseList[e].selectedSkills=[],a.inputtedExpertiseList[e].otherExpertiseCategory.status=1,a.inputtedExpertiseList[e].step=2):(a.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,a.inputtedExpertiseList[e].selectedExpertise=null,a.inputtedExpertiseList[e].otherExpertise={name:"",status:0},a.inputtedExpertiseList[e].selectedSkills=[],a.inputtedExpertiseList[e].otherExpertiseSubCategory.status=1,a.inputtedExpertiseList[e].step=3)},a.removeOtherExpertiseCategory=function(e,t){0===t?(a.inputtedExpertiseList[e].otherExpertiseCategory={name:"",status:0},a.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},a.inputtedExpertiseList[e].otherExpertise={name:"",status:0}):(a.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},a.inputtedExpertiseList[e].otherExpertise={name:"",status:0})},a.selectExpertise=function(e,t){a.inputtedExpertiseList[e].selectedExpertise=t,a.inputtedExpertiseList[e].otherExpertise={name:"",status:0},a.inputtedExpertiseList[e].step=4,a.fetchSkillsList(e),c()},a.deselectExpertise=function(e,t){a.inputtedExpertiseList[t].selectedExpertise=null,a.inputtedExpertiseList[t].selectedSkills=[],e.stopPropagation(t)},a.saveOtherExpertise=function(e){a.inputtedExpertiseList[e].selectedExpertise=null,a.inputtedExpertiseList[e].selectedSkills=[],a.inputtedExpertiseList[e].otherExpertise.status=1,a.inputtedExpertiseList[e].step=4,c()},a.removeOtherExpertise=function(e){a.inputtedExpertiseList[e].otherExpertise={name:"",status:0}},a.inSkills=function(e,t){var i=u("filter")(a.inputtedExpertiseList[e].selectedSkills,{id:t.id},!0);return"undefined"!=typeof i?i.length>0:!1},a.selectSkill=function(e,t){a.inSkills(e,t)||a.inputtedExpertiseList[e].selectedSkills.push(t),a.inputtedExpertiseList[e].step=4},a.deselectSkill=function(e,t,i){a.inputtedExpertiseList[t].selectedSkills=u("filter")(a.inputtedExpertiseList[t].selectedSkills,{id:i.id},function(e,t){return!angular.equals(e,t)}),e.stopPropagation()},a.saveSkills=function(e){a.inputtedExpertiseList[e].skillsList=angular.copy(a.inputtedExpertiseList[e].otherSkills.list),a.inputtedExpertiseList[e].selectedSkills=angular.copy(a.inputtedExpertiseList[e].otherSkills.list),a.inputtedExpertiseList[e].otherSkills={list:[],status:0}},a.fetchExpertiseCategory=function(e){a.inputtedExpertiseList[e].expertiseCategoryList=[],a.inputtedExpertiseList[e].loading=!0,r.get("/api/expertise-category/0").then(function(t){a.inputtedExpertiseList[e].expertiseCategoryList=t.data,a.inputtedExpertiseList[e].loading=!1})},a.fetchExpertiseSubCategory=function(e){a.expertiseSubCategoryList=[],a.inputtedExpertiseList[e].loading=!0,r.get("/api/expertise-category/"+a.inputtedExpertiseList[e].selectedExpertiseCategory.id).then(function(t){a.inputtedExpertiseList[e].expertiseSubCategoryList=t.data,a.inputtedExpertiseList[e].loading=!1})},a.fetchExpertiseList=function(e){a.inputtedExpertiseList[e].expertiseList=[],a.inputtedExpertiseList[e].loading=!0,r.get("/api/expertise/category/"+a.inputtedExpertiseList[e].selectedExpertiseSubCategory.id).then(function(t){a.inputtedExpertiseList[e].expertiseList=t.data,a.inputtedExpertiseList[e].loading=!1},2e3)},a.fetchSkillsList=function(e){a.inputtedExpertiseList[e].skillsList=[],a.inputtedExpertiseList[e].loading=!0,r.get("/api/expertise/"+a.inputtedExpertiseList[e].selectedExpertise.id+"/skills/").then(function(t){a.inputtedExpertiseList[e].skillsList=t.data,a.inputtedExpertiseList[e].selectedSkills=t.data,a.inputtedExpertiseList[e].loading=!1},2e3)},c(),a.submitDetails=function(){var e={name:a.data.fname,last_name:a.data.lname,role:a.data.selectedRole,age_gate:a.data.ageGate,country_origin:a.data.countryOrigin,country_residence:a.data.countryResidence,contact_number:a.data.contactNumber,contact_time:a.data.contactTime.value};switch(a.data.selectedRole){case"investor":var n=a.data.selectedInvestmentBudget;"other"===n&&(n=a.data.selectedInvestmentBudgetOther),e.investor={},e.investor.investment_budget=n,e.investor.investment_goal=a.data.selectedInvestmentGoal,e.investor.investment_reason=a.data.selectedInvestmentReason;break;case"creator":e.creator={};break;case"expert":e.expert={list:[]},angular.forEach(a.inputtedExpertiseList,function(t){(null!==t.selectedExpertise||1===t.otherExpertise.status)&&(console.log(t.selectedExpertise),
console.log(t.otherExpertise),e.expert.list.push({expertise_category:t.selectedExpertiseCategory,other_expertise_category:t.otherExpertiseCategory,expertise_sub_category:t.selectedExpertiseSubCategory,other_expertise_sub_category:t.otherExpertiseSubCategory,expertise:t.selectedExpertise,other_expertise:t.otherExpertise,skills:t.selectedSkills}))})}console.log(e),t.$broadcast("startLoading"),l.toTop(),r.put("/api/users/"+t.user.id,e).then(function(e){"Updated"===e.data&&(t.user.name=a.data.fname,t.user.last_name=a.data.lname,t.user.role=a.data.selectedRole,t.user.registered=1,t.initialRoleAssignment=!0,t.activeRole=a.data.selectedRole,i.go("app.contests"),t.switchUserRole(a.data.selectedRole,null,!0))},function(e){console.log("error"),console.log(e)})["finally"](function(){t.$broadcast("stopLoading")})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("ContestCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter",function(e,t,a,i,n,o,r,s){t.contests=[],e.$broadcast("startLoading");var l=n("/api/contests/:contestId",{contestId:"@id"});l.query().$promise.then(function(a){if(t.contests=a,t.ongoingContests=[],t.judgingContests=[],"creator"===e.activeRole&&"undefined"!=typeof e.user.creator)for(var i in e.user.creator.ongoing_contest){var n=e.user.creator.ongoing_contest[i],o=s("filter")(a,{id:n},!0)[0];if("undefined"!=typeof o){t.ongoingContests.push(o);var r=t.contests.indexOf(o);console.log("ogcIndex : "+r),t.contests.splice(r,1)}}else if("jury"===e.activeRole&&e.user.judging.length>0)for(var l in e.user.judging){var n=e.user.judging[l].contest_id,o=s("filter")(a,{id:n},!0)[0];"undefined"!=typeof o&&t.judgingContests.push(o)}})["finally"](function(){r(function(){e.$broadcast("stopLoading")},1e3)})}]),angular.module("fundator.directives").directive("fdEnter",function(){return function(e,t,a){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(a.fdEnter)}),t.preventDefault())})}}),angular.module("fundator.controllers").controller("ContestSingleCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$filter","$timeout","FdScroller","$http","Lightbox",function(e,t,a,i,n,o,r,s,l,u){t.contestId=i.contestId,t.data={contestFullDescription:!1,addEntry:!1,addEntryForm:{description:"",attachedFiles:[]},selectedEntry:null,rating:{design:"",creativity:"",industrial:"",market:""}};var d=n("/api/contests/:contestId",{contestId:"@id"}),c=n("/api/entries/:entryId",{entryId:"@id"},{contestantEntries:{method:"GET",url:"/api/entries/contest/:contestId/creator/:creatorId",isArray:!0},judgeEntries:{method:"GET",url:"/api/entries/contest/:contestId/judge/:judgeId",isArray:!0},sendMessage:{method:"POST",url:"/api/entries/:entryId/messages",isArray:!1}}),p=n("/api/entry-ratings/:entryRatingId",function(){},{update:{method:"PUT"}});s.toTop(),e.$broadcast("startLoading"),t.showFullText=function(){s.toSection(".contest-single",50),t.data.contestFullDescription=!0},t.hideFullText=function(){s.toTop(),t.data.contestFullDescription=!1},d.get({contestId:t.contestId}).$promise.then(function(i){t.contest=i;var n=o("filter")(e.user.judging,{contest_id:t.contestId,status:1}),r=o("filter")(e.user.judging,{contest_id:t.contestId,status:0}),s=o("filter")(e.user.contesting,{contest_id:t.contestId,status:1}),l=o("filter")(e.user.contesting,{contest_id:t.contestId,status:0});"undefined"!=typeof n&&(n.length>0&&"jury"!==e.activeRole&&"creator"!==e.activeRole?(e.flashNotices.juryView.show=!0,e.flashNotices.juryView.contestId=i.id,e.flashNotices.juryView.onClick=function(){a.go("app.contest",{role:"jury",contestId:i.id})}):"jury"===e.activeRole&&n.length>0&&(t.data.showJudgeNdaCompleted=!0,t.loadEntries(e.activeRole))),"undefined"!=typeof r&&r.length>0&&(t.data.showJudgeNdaPending=!0),"undefined"!=typeof s&&s.length>0&&"creator"===e.activeRole&&(t.data.showContestantNdaCompleted=!0,t.loadEntries(e.activeRole)),"undefined"!=typeof l&&l.length>0&&(t.data.showContestantNdaPending=!0)})["finally"](function(){r(function(){e.$broadcast("stopLoading")},1e3)}),t.loadEntries=function(a){switch(a){case"jury":c.judgeEntries({contestId:t.contestId,judgeId:e.user.id}).$promise.then(function(e){t.contest.entries=angular.copy(e)});break;case"creator":var i=o("filter")(e.user.user_roles,{role:"creator"},!0);if(i.length>0){var n=i[0];c.contestantEntries({contestId:t.contestId,creatorId:n.id}).$promise.then(function(e){t.contest.entries=angular.copy(e)})}}},t.selectEntry=function(a){t.data.addEntry=!1,t.data.selectedEntry=a,s.toSection(".entries-list");var i=null;"jury"===e.activeRole&&(i=e.user.id),null!==i?l.get("/api/entries/"+a.id+"/judge/"+i).then(function(e){t.data.selectedEntry=e.data,t.data.selectedEntry.rating=e.data.rating,t.data.selectedEntry.gallery=["images/1.png","images/2.png","images/3.png"],r(function(){$(".chatbox").animate({scrollTop:1e4})},100)}):c.get({entryId:a.id}).$promise.then(function(e){t.data.selectedEntry=e,t.data.selectedEntry.gallery=["images/1.png","images/2.png","images/3.png"],r(function(){$(".chatbox").animate({scrollTop:1e4})},100)})},t.openLightbox=function(e){var a=t.data.selectedEntry.files,i=[],n=0;for(var o in a){var r=a[o];i.push(r.url),r.url===e.url&&(n=o)}u.openModal(i,n)},t.$on("flow::fileAdded",function(e,t,a){e.preventDefault(),console.log("fileAdded"),console.log(t),console.log(a)}),t.entryFileSuccess=function(e,a){var i=JSON.parse(a);console.log(e),console.log("Adding files : "+i.file.id),e.ref_id=i.file.id;var n=t.data.addEntryForm.attachedFiles.indexOf(i.file.id);-1===n&&t.data.addEntryForm.attachedFiles.push({id:i.file.id,caption:""})},t.entryFileRemove=function(e,a){var i=t.data.addEntryForm.attachedFiles.indexOf(e.ref_id);-1!==i&&t.data.addEntryForm.attachedFiles.splice(i,1);var n=a.files.indexOf(e);-1!==n&&(console.log("remove files ... "+n),a.files.splice(n,1)),console.log(a.files),console.log(t.data.addEntryForm.attachedFiles)},t.showAddEntry=function(){s.toSection(".entries-list"),t.data.selectedEntry=null,t.data.addEntry=!0,t.data.addEntryForm.description="",t.data.addEntryForm.attachedFiles=[],t.data.addEntryForm.description=t.contest.entries[t.contest.entries.length-1].description},t.submitEntry=function(){t.data.savingEntry=!0;var a={},i=null;angular.forEach(t.data.addEntryForm.flow.files,function(e){a[e.ref_id]={caption:e.ref_caption},console.log("prepare to assign thumbnail"),-1!==e.file.type.indexOf("image")&&null===i&&(console.log("whoopie it matches"),i=e.ref_id)});var n=o("filter")(e.user.user_roles,{role:"creator"},!0);if(n.length>0){var s=n[0],l=new c;l.creator_id=s.id,l.contest_id=t.contest.id,l.thumbnail_id=i,l.name=e.user.name+"'s Entry",l.description=t.data.addEntryForm.description,l.attached_files=a,console.log(l.thumbnail_id),l.$save().then(function(e){console.log("Entry Saved!"),console.log(e),t.data.savingEntry=!1,t.data.savedEntry=!0,r(function(){t.data.selectedEntry=!1,t.selectEntry(e),t.loadEntries("creator")},1e3)})}},t.sendMessage=function(){var e={message:t.data.messageToSend};c.sendMessage({entryId:t.data.selectedEntry.id},e,function(e){t.data.selectedEntry.messages.push(e),t.data.messageToSend="",r(function(){$(".chatbox").animate({scrollTop:1e4})},100)})},t.saveMarks=function(a){t.data.savingMarks=!0;var i={design:t.data.selectedEntry.rating.design,creativity:t.data.selectedEntry.rating.creativity,industrial:t.data.selectedEntry.rating.industrial,market:t.data.selectedEntry.rating.market};if(i.judge_id=e.user.id,i.entry_id=t.data.selectedEntry.id,"undefined"!=typeof a)p.update({entryRatingId:a},i).$promise.then(function(e){"error"!==e&&(console.log("entry rating saved!"),t.data.savingMarks=!1,t.data.savedMarks=!0,t.loadEntries("jury"),r(function(){t.data.savedMarks=!1},1e3))});else{var n=new p(i);n.$save().then(function(e){"error"!==e&&(console.log("entry rating created!"),t.data.savingMarks=!1,t.data.savedMarks=!0,t.loadEntries("jury"),r(function(){t.data.savedMarks=!1},1e3))})}},t.becomeJudge=function(){s.toSection(".contest-single",50),t.data.showJudgeNda=!0},t.acceptJudge=function(){t.data.showJudgeNdaLoading=!0,l.post("/api/users/becomeJudge",{contest_id:t.contest.id}).then(function(e){console.log(e),"undefined"==typeof e.data.error&&(t.data.showJudgeNdaSuccess=!0,r(function(){s.toTop(),t.data.showJudgeNda=!1},1e3))})["finally"](function(){t.data.showJudgeNdaLoading=!1})},t.becomeContestant=function(){s.toSection(".contest-single",50),t.data.showContestantNda=!0},t.acceptContestant=function(){t.data.showContestantNdaLoading=!0,l.post("/api/users/becomeContestant",{contest_id:t.contest.id}).then(function(e){console.log(e),"undefined"==typeof e.data.error&&(t.data.showContestantNdaSuccess=!0,r(function(){s.toTop(),t.data.showContestantNda=!1},1e3))})["finally"](function(){t.data.showContestantNdaLoading=!1})}}])}(),function(){"use strict";angular.module("fundator.filters").filter("stripTags",function(){return function(e){if("undefined"!=typeof e){var t=new RegExp(String.fromCharCode(160),"g");e=String(e).replace(t," "),e=e.replace(/[^\x00-\x7F]/g,""),e=e.replace(/&nbsp;/gi," ")}return e?String(e).replace(/<[^>]+>/gm,""):""}}),angular.module("fundator.filters").filter("cleanHtml",function(){return function(e){return"undefined"!=typeof e&&(e=e.replace(/[^\x00-\x7F]/g,"")),e}})}(),function(){"use strict";angular.module("fundator.controllers").controller("CreateCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$timeout","$filter","FdScroller",function(e,t,a,i,n,o,r,s){console.log("Create Started"),t.view="list",t.data={newProjectLoading:!1},t.project=null;var l=n("/api/projects/:projectId",{projectId:"@id"},{update:{method:"PUT"}}),u="creator",d=r("filter")(e.user.user_roles,{role:u},!0);if("undefined"!=typeof d&&d.length>0){var c=d[0];e.activeRole!==u&&e.switchUserRole(u,c.id,!0);var p=parseInt(i.projectId);"undefined"==typeof p||isNaN(p)?l.query().$promise.then(function(e){t.allProjects=e})["finally"](function(){e.$broadcast("stopLoading")}):angular.isNumber(p)&&isFinite(p)?l.get({projectId:p}).$promise.then(function(e){switch(t.project=e,e.state){case 0:a.go("app.create.details",{projectId:p});break;case 1:a.go("app.create.details",{projectId:p});break;case 2:a.go("app.create.superexpert",{projectId:p});break;case 3:a.go("app.create.expertise",{projectId:p});break;case 4:a.go("app.create.experts",{projectId:p});break;default:a.go("app.create.details",{projectId:p})}})["finally"](function(){e.$broadcast("stopLoading")}):console.log("Make up your mind you peice of shit")}else o(function(){e.$broadcast("stopLoading"),a.go("app.home")},2e3);t.goToProject=function(e){a.go("app.create.details",{projectId:e.id})},t.createNewProject=function(){t.data.newProjectLoading=!0;(new l).$save().then(function(e){t.goToProject(e),t.data.newProjectLoading=!1})},t.saveProgress=function(){console.log("Saving progress now !");var e=angular.copy(t.project);console.log(e),"undefined"!=typeof t.project&&l.update({projectId:t.project.id},e).$promise.then(function(e){console.log("result"),console.log(e)})},s.toTop()}]),angular.module("fundator.controllers").controller("CreateDetailsCtrl",["$rootScope","$scope","$state","$stateParams","$resource","FdScroller",function(e,t,a,i,n,o){console.log("CreateDetailsCtrl Started"),t.data={featuredImage:{}},t.details={name:"",geography:"wherever"},t.$watch("project",function(a){null!==a?(e.$broadcast("stopLoading"),t.details=a):console.log("project still loading")}),t.$on("flow::fileAdded",function(e,t,a){e.preventDefault(),console.log("file added")}),t.featuredImageSuccess=function(e,a){var i=JSON.parse(a);console.log(e),console.log("Adding files : "+i.file.id),t.project.thumbnail_id=i.file.id},t.attachedFilesSuccess=function(e,a){var i=JSON.parse(a),n=t.project.attachedFiles.indexOf(i.file.id);-1===n&&t.project.attachedFiles.push(i.file.id)},t.submitDraft=function(){t.project.state=1,t.saveProgress(),o.toSection(".steps-content")},o.toSection("#projectSteps")}]),angular.module("fundator.controllers").controller("CreateSECtrl",["$rootScope","$scope","$state","$http","$timeout","FdScroller",function(e,t,a,i,n,o){console.log("CreateSECtrl Started"),i.get("/api/super-experts").then(function(e){t.superExperts=e.data}),t.chooseSuperExpert=function(e){t.project.super_expert_id=e.id,t.saveProgress(),o.toSection(".steps-content"),n(function(){a.go("app.create.expertise")},300)}}]),angular.module("fundator.controllers").controller("CreateExpertiseCtrl",["$rootScope","$scope","$state","$resource","$http","$timeout","FdScroller",function(e,t,a,i,n,o,r){console.log("CreateExpertiseCtrl Started"),t.inputtedExpertiseList=[],t.expertiseList=[];var s=i("/api/projects/:projectId/expertise",{projectId:"@id"});t.fetchExpertise=function(){s.query({projectId:t.project.id}).$promise.then(function(e){t.expertiseList=e})["finally"](function(){e.$broadcast("stopLoading")})},t.$watch("project",function(e){"undefined"!=typeof e&&null!==e&&t.fetchExpertise()}),t.saveExpertise=function(e){var a={expertise_id:e.selectedExpertise.id,task:e.mainTask,budget:e.budget,lead_time:e.leadTime,start_date:e.startDate};n.post("/api/projects/"+t.project.id+"/expertise",a).then(function(e){console.log(e.data),t.expertiseList.push(e.data)}),t.inputtedExpertiseList=[]},t.saveExpertiseSelection=function(){t.project.state=4,t.saveProgress(),r.toSection(".steps-content"),o(function(){a.go("app.create.expertise")},300)},t.addNewInputtedExpertise=function(){var e={selectedExpertise:"null",otherExpertise:{status:1}};t.inputtedExpertiseList.length>0&&t.inputtedExpertiseList[t.inputtedExpertiseList.length-1],t.inputtedExpertiseList.length<3&&null!==e.selectedExpertise&&0!==e.otherExpertise.status&&t.inputtedExpertiseList.push({expertiseCategoryList:[],expertiseSubCategoryList:[],expertiseList:[],selectedExpertiseCategory:null,otherExpertiseCategory:{name:"",status:0},selectedExpertiseSubCategory:null,otherExpertiseSubCategory:{name:"",status:0},selectedExpertise:null,otherExpertise:{name:"",status:0},mainTask:"",budget:"",leadTime:"",startDate:"",step:1,loading:!1}),t.fetchExpertiseCategory(t.inputtedExpertiseList.length-1)},t.selectExpertiseCategory=function(e,a,i){0===i?(t.inputtedExpertiseList[e].selectedExpertiseCategory=a,t.inputtedExpertiseList[e].step=2,t.fetchExpertiseSubCategory(e)):(t.inputtedExpertiseList[e].selectedExpertiseSubCategory=a,t.inputtedExpertiseList[e].step=3,t.fetchExpertiseList(e))},t.deselectExpertiseCategory=function(e,a,i){0===i?(t.inputtedExpertiseList[a].selectedExpertiseCategory=null,t.inputtedExpertiseList[a].otherExpertiseCategory={name:"",status:0},t.inputtedExpertiseList[a].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[a].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[a].selectedExpertise=null,t.inputtedExpertiseList[a].otherExpertise={name:"",status:0}):(t.inputtedExpertiseList[a].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[a].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[a].selectedExpertise=null,t.inputtedExpertiseList[a].otherExpertise={name:"",status:0}),e.stopPropagation()},t.saveOtherExpertiseCategory=function(e,a){0===a?(t.inputtedExpertiseList[e].selectedExpertiseCategory=null,t.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[e].selectedExpertise=null,t.inputtedExpertiseList[e].otherExpertise={name:"",status:0},t.inputtedExpertiseList[e].otherExpertiseCategory.status=1,t.inputtedExpertiseList[e].step=2):(t.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[e].selectedExpertise=null,t.inputtedExpertiseList[e].otherExpertise={name:"",status:0},t.inputtedExpertiseList[e].otherExpertiseSubCategory.status=1,t.inputtedExpertiseList[e].step=3)},t.removeOtherExpertiseCategory=function(e,a){0===a?(t.inputtedExpertiseList[e].otherExpertiseCategory={name:"",status:0},t.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[e].otherExpertise={name:"",status:0}):(t.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[e].otherExpertise={name:"",status:0})},t.selectExpertise=function(e,a){t.inputtedExpertiseList[e].selectedExpertise=a,t.inputtedExpertiseList[e].otherExpertise={name:"",status:0},t.inputtedExpertiseList[e].step=4},t.deselectExpertise=function(e,a){t.inputtedExpertiseList[a].selectedExpertise=null,e.stopPropagation(a)},t.saveOtherExpertise=function(e){t.inputtedExpertiseList[e].selectedExpertise=null,t.inputtedExpertiseList[e].otherExpertise.status=1,t.inputtedExpertiseList[e].step=4},t.removeOtherExpertise=function(e){t.inputtedExpertiseList[e].otherExpertise={name:"",status:0}},t.fetchExpertiseCategory=function(e){t.inputtedExpertiseList[e].expertiseCategoryList=[],t.inputtedExpertiseList[e].loading=!0,n.get("/api/expertise-category/0").then(function(a){t.inputtedExpertiseList[e].expertiseCategoryList=a.data,t.inputtedExpertiseList[e].loading=!1})},t.fetchExpertiseSubCategory=function(e){t.expertiseSubCategoryList=[],t.inputtedExpertiseList[e].loading=!0,n.get("/api/expertise-category/"+t.inputtedExpertiseList[e].selectedExpertiseCategory.id).then(function(a){t.inputtedExpertiseList[e].expertiseSubCategoryList=a.data,t.inputtedExpertiseList[e].loading=!1})},t.fetchExpertiseList=function(e){t.inputtedExpertiseList[e].expertiseList=[],t.inputtedExpertiseList[e].loading=!0,n.get("/api/expertise/category/"+t.inputtedExpertiseList[e].selectedExpertiseSubCategory.id).then(function(a){t.inputtedExpertiseList[e].expertiseList=a.data,t.inputtedExpertiseList[e].loading=!1},2e3)}}]),angular.module("fundator.controllers").controller("CreateExpertCtrl",["$rootScope","$scope","$state","$resource",function(e,t,a,i){console.log("CreateExpertCtrl Started"),t.data={};var n=i("/api/projects/:projectId/expertise",{projectId:"@id"});t.fetchExpertise=function(){n.query({projectId:t.project.id}).$promise.then(function(e){t.expertiseList=e})["finally"](function(){e.$broadcast("stopLoading")})},t.$watch("project",function(e){"undefined"!=typeof e&&null!==e&&t.fetchExpertise()}),t.shortlistExpert=function(e,t){"undefined"==typeof e.shortlist&&(e.shortlist=[]),e.shortlist.push(t)},t.discussExpert=function(e,a){t.data.selectedBid=a}}]),angular.module("fundator.controllers").controller("CreateBudgetCtrl",["$rootScope","$scope","$state","$resource",function(e,t,a,i){console.log("CreateBudgetCtrl Started")}]),angular.module("fundator.controllers").controller("CreateInvestorsCtrl",["$rootScope","$scope","$state","$resource",function(e,t,a,i){console.log("CreateInvestorsCtrl Started")}])}(),function(){"use strict";angular.module("fundator.controllers").controller("ExpertCtrl",["$rootScope","$scope","$state","$resource","$filter","FdScroller",function(e,t,a,i,n,o){console.log("Expert Started");var r=i("/api/expertise/available"),s=i("/api/expertise/matching",{},{query:{method:"GET",isArray:!1}}),l="expert",u=n("filter")(e.user.user_roles,{role:l},!0),d=!1;if("undefined"!=typeof u&&u.length>0){var c=u[0];e.activeRole!==l?e.switchUserRole(l,c.id,!0):d=!0}else $timeout(function(){e.$broadcast("stopLoading"),a.go("app.home")},2e3);d&&(e.$broadcast("stopLoading"),r.query().$promise.then(function(e){console.log("All available expertise"),console.log(e)}),s.query().$promise.then(function(e){console.log("All matching expertise"),console.log(e),t.matchingExpertise=e.expertise}))}]),angular.module("fundator.controllers").controller("ExpertiseCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http",function(e,t,a,i,n,o){console.log("Expertise Started"),console.log(i.expertiseId),t.data={};var r=n("/api/project-expertise/:expertiseId",{expertiseId:"@id"});r.get({expertiseId:i.expertiseId}).$promise.then(function(a){t.expertise=a,e.$broadcast("stopLoading")}),t.submitBid=function(){var e={bid_amount:t.data.bid_amount,description:t.data.bid_description};o.post("/api/project-expertise/"+i.expertiseId+"/bid",e).then(function(e){t.expertise.bid=e})}}])}(),function(){"use strict";angular.module("fundator.config").config(["$authProvider",function(e){e.loginUrl="/api/authenticate",e.tokenPrefix="fundator";var t=window.location.protocol+"//"+window.location.hostname;e.linkedin({clientId:"77zjxfbh2928re",url:"/api/authenticate/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:t+"/api/authenticate/linkedin",requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",display:"self"}),e.google({clientId:"1042247727091-dmqc55af7tl58h2rqv3pqnrmjjbb9733.apps.googleusercontent.com",url:"/api/authenticate/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:t+"/api/authenticate/google",requiredUrlParams:["scope"],optionalUrlParams:["display"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",type:"2.0",popupOptions:{width:452,height:633}}),e.facebook({clientId:"900533123395920",name:"facebook",url:"/api/authenticate/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:t+"/api/authenticate/facebook",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",type:"2.0",popupOptions:{width:580,height:400}})}])}(),function(){"use strict";angular.module("fundator.config").config(["flowFactoryProvider",function(e){e.defaults={uploadMethod:"POST",target:"/api/files/",permanentErrors:[404,500,501]}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("FooterController",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter",function(e,t,a,i,n,o,r,s){t.notifications=null;var l=n("/api/contests/:contestId",{contestId:"@id"});l.query().$promise.then(function(e){t.ongoingContests=e})}])}(),function(){"use strict";angular.module("fundator.controllers").controller("FlashNoticeCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$timeout",function(e,t,a,i,n,o){e.flashNotices={},e.flashNotices.juryView={show:!1,contestId:0,onClick:function(){console.log("onClick"),e.switchUserRole("jury",5,!0)}}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("HeaderCtrl",["$rootScope","$scope","$state","$auth","$uibModal",function(e,t,a,i,n){t.triggerLogin=function(){console.log("trigger login!");var e=n.open({animation:!0,templateUrl:"login.html",controller:"LoginCtrl",size:"md",windowClass:"login-modal"});e.result.then(function(){console.log("Got close feedback!")},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("fundator.controllers").controller("LoginCtrl",["$scope","$uibModalInstance",function(e,t){e.login=function(){console.log("logging in now !")},e.authenticate=function(){console.log("auth in now !")}}])}(),function(){"use strict";function e(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return new Blob([i],{type:a})}angular.module("fundator.controllers").controller("NavigationCtrl",["$rootScope","$scope","$state","$auth","$log","$timeout","$filter","$http","$resource","$uibModal","FileUploader",function(t,a,i,n,o,r,s,l,u,d,c){a.allSkills=u("api/skills").query(),a.uploader=new c({url:"/api/files",removeAfterUpload:!0}),a.data={userSettingsMode:"view",userSettingsSave:-1},a.saveProfile=function(){var e=angular.copy(t.user);delete e.creator,delete e.investor,delete e.judging,console.log("saving"),console.log(e),a.data.userSettingsSave=0,l.put("/api/users/"+t.user.id,e).then(function(e){"Updated"===e.data&&(a.data.userSettingsSave=1,a.data.userSettingsMode="view",r(function(){a.data.userSettingsSave=-1},1e3))},function(e){console.log("error"),console.log(e)})["finally"](function(){r(function(){a.data.userSettingsSave=-1},1e3)})},a.changeThumbnail=function(){var i=d.open({animation:!0,templateUrl:"./views/app/app/header/user-thumbnail.html",controller:"UserThumbnailCtrl",size:"md"});i.result.then(function(i){t.user.thumbnail=angular.copy(i),a.uploader.onBeforeUploadItem=function(e){e.file.name="thumbnail_"+t.user.id+".png",e.formData=[],e.formData.push({attach:"thumbnail"}),e.formData.push({user_id:t.user.id})},a.uploader.onSuccessItem=function(e,t,a,i){console.log("updated user thumbnail"),console.log(t)},a.uploader.addToQueue(e(i)),a.uploader.uploadAll()},function(){o.info("Modal dismissed at: "+new Date)})},a.logout=function(){console.log("actually logging out! ..."),n.logout().then(function(){localStorage.removeItem("fundator_token"),t.authenticated=!1,t.user=void 0,t.isNavShown=!1,i.go("app.auth.login",{},{reload:!0})})},a.populateSideNavigation=function(){l.get("/api/users/sideNavigationData").then(function(e){"undefined"==typeof e.data.error&&(a.sideNavigationData=e.data)})},t.$watch("user",function(e){"undefined"!=typeof e&&a.populateSideNavigation()}),a.openFullMenu=function(){t.isNavShown=1},a.goToLink=function(e,a,i){t.isNavShown=0;var n=s("filter")(t.user.user_roles,{role:i},!0);if("undefined"!=typeof n&&n.length>0){var i=n[0];t.switchUserRole(i.role,i.id,!0,e,a)}}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("UserThumbnailCtrl",["$scope","$rootScope","$uibModalInstance",function(e,t,a){e.thumbnail=null,e.croppedThumbnail=null,e.fileName="No file selected",e.imageError=null;var i=function(t,a){if(t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.dropable=!1}),t.originalEvent.dataTransfer)var i=t.originalEvent.dataTransfer.files[0];else var i=t.currentTarget.files[0];var n=new FileReader;return-1==i.type.indexOf("image")?void e.$apply(function(e){e.imageError="Please select a valid image to crop"}):(e.imageError=null,e.fileName=i.name,n.onload=function(t){e.$apply(function(e){console.log(t.target.result),e.thumbnail=t.target.result})},void(i&&n.readAsDataURL(i)))};$(document).on("dragover dragleave dragenter",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault()}),$(document).on("dragenter",".img-upload-show",function(t){t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.dropable=!0})}),$(document).on("dragleave",".img-upload-show",function(t){t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.dropable=!1})}),$(document).on("change","#fileInput",function(e){i(e,!1)}),$(document).on("drop",".img-upload-show",function(e){i(e,!0)}),e.setThumbnail=function(){a.close(e.croppedThumbnail)},e.cancel=function(){a.dismiss("cancel")}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("HomeCtrl",["$rootScope","$scope","$state","$stateParams","$http","$resource","FdScroller",function(e,t,a,i,n,o,r){console.log("Home View Started"),r.toTop(),t.contests=[],e.$broadcast("startLoading");var s=o("/api/contests/:contestId",{contestId:"@id"});s.query().$promise.then(function(a){t.contests=a,e.$broadcast("stopLoading")})["finally"](function(){e.$broadcast("stopLoading")}),n.get("/api/expertise/").then(function(e){t.expertises=e.data},2e3),t.investors=[{name:"Alain Amoretti",country:"France",image:"1.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa eveniet deserunt ad pariatur praesentium, incidunt molestiae beatae quam quasi reiciendis mollitia accusantium voluptate quaerat sequi officia a facere repellat adipisci."},{name:"Charles d'anterroches",country:"France",image:"2.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Expedita dignissimos nemo, sequi doloribus accusantium, obcaecati natus iure quam esse ex labore neque consequatur voluptate in, nihil ea, cum recusandae ut."},{name:"Christophe Brissiaud",country:"China",image:"3.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo enim officia optio dolorum harum, soluta culpa unde veniam nobis eos, ducimus quod praesentium veritatis atque non nostrum ipsam. Nostrum, et!"},{name:"Jean-Bernard Antoine",country:"China",image:"4.jpeg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quia recusandae aliquid quos aperiam molestiae quibusdam qui eos iure saepe optio vitae fugit unde nam, atque excepturi deserunt est, repellat alias."},{name:"Xavier Paulin",country:"Taiwan",image:"5.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure inventore nesciunt illum, pariatur molestias dignissimos ipsa iste est. Sed, assumenda dolorum? Ab blanditiis quasi, voluptates iste iusto vero deserunt sunt."},{name:"Cindy Chung",country:"Hong Kong",image:"6.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure inventore nesciunt illum, pariatur molestias dignissimos ipsa iste est. Sed, assumenda dolorum? Ab blanditiis quasi, voluptates iste iusto vero deserunt sunt."}]}])}(),function(){"use strict";angular.module("fundator.controllers").controller("GrabShareCtrl",["$rootScope","$scope","$state","$http","$timeout","FdScroller",function(e,t,a,i,n,o){function r(){t.data.primaryShareListing=null,i.get("/api/share-listing/").then(function(e){t.data.primaryShareListing=e.data})}console.log("Invest Started"),e.$broadcast("startLoading"),t.Math=window.Math,t.data={primaryShareListing:null,showBidNow:!1,myBid:{bid_amount:.72,num_shares:10,saving:!1}},o.toTop(),n(function(){e.$broadcast("stopLoading")},2e3),t.investors=[{name:"Alain Amoretti",country:"France",image:"1.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa eveniet deserunt ad pariatur praesentium, incidunt molestiae beatae quam quasi reiciendis mollitia accusantium voluptate quaerat sequi officia a facere repellat adipisci."},{name:"Charles d'anterroches",country:"France",image:"2.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Expedita dignissimos nemo, sequi doloribus accusantium, obcaecati natus iure quam esse ex labore neque consequatur voluptate in, nihil ea, cum recusandae ut."},{name:"Christophe Brissiaud",country:"China",image:"3.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo enim officia optio dolorum harum, soluta culpa unde veniam nobis eos, ducimus quod praesentium veritatis atque non nostrum ipsam. Nostrum, et!"},{name:"Jean-Bernard Antoine",country:"China",image:"4.jpeg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quia recusandae aliquid quos aperiam molestiae quibusdam qui eos iure saepe optio vitae fugit unde nam, atque excepturi deserunt est, repellat alias."},{name:"Xavier Paulin",country:"Taiwan",image:"5.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure inventore nesciunt illum, pariatur molestias dignissimos ipsa iste est. Sed, assumenda dolorum? Ab blanditiis quasi, voluptates iste iusto vero deserunt sunt."},{name:"Cindy Chung",country:"Hong Kong",image:"6.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure inventore nesciunt illum, pariatur molestias dignissimos ipsa iste est. Sed, assumenda dolorum? Ab blanditiis quasi, voluptates iste iusto vero deserunt sunt."}],r(),t.confirmBid=function(){t.data.myBid.saving=!0;var e={share_listing_id:t.data.primaryShareListing.id,bid_amount:t.data.myBid.bid_amount,num_shares:t.data.myBid.num_shares};i.post("/api/share-bids",e).then(function(e){t.data.myBid.saving=!1,"undefined"==typeof e.error&&(console.log(e.data),t.data.showBidNow=!1,r())})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("InvestCtrl",["$rootScope","$scope","$state","$resource","FdScroller",function(e,t,a,i,n){console.log("Invest Started"),e.$broadcast("stopLoading"),n.toTop()}])}(),function(){"use strict";angular.module("fundator.controllers").controller("PageCtrl",["$rootScope","$scope","$state","$stateParams","$http","FdScroller",function(e,t,a,i,n,o){e.$broadcast("startLoading"),o.toTop(),t.page={title:"",content:""},n.get("/api/pages/"+i.slug).then(function(e){console.log("Success"),console.log(e),t.page=e.data},function(e){
console.log("Error"),console.log(e),"404"==e.status&&console.log("load 404")})["finally"](function(){e.$broadcast("stopLoading")})}])}(),function(){"use strict";angular.module("fundator.controllers").controller("NotificationsCtrl",["$rootScope","$scope","$state","$stateParams","$http","FdNotifications",function(e,t,a,i,n,o){t.notifications=null,o.getLatestNotifications().then(function(e){t.notifications=e.notifications})}])}(),function(){"use strict";angular.module("fundator.controllers").controller("TransactionCtrl",["$rootScope","$scope","$state","$stateParams","$http","$timeout","FdScroller",function(e,t,a,i,n,o,r){console.log("TransactionCtrl"),e.$broadcast("startLoading"),r.toTop(),o(function(){e.$broadcast("stopLoading")},2e3)}])}(),function(){"use strict";angular.module("fundator.controllers").controller("QuickUpdateCtrl",["$rootScope","$scope","$state","$stateParams","$resource","FdNotifications",function(e,t,a,i,n,o){console.log("quickupdate"),t.data={editMode:!1};var r=n("/api/investors/:investorId",{investorId:"@id"},{update:{method:"PUT"}});t.editInvestment=function(e){t.data.editMode=e},t.modifyInvestment=function(){var a={investment_budget:e.user.investor.investment_budget};t.editInvestment(!1),r.update({investorId:e.user.investor.id},a).$promise.then(function(e){"undefined"==typeof e.error&&console.log(e)})}}])}();