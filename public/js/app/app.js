!function(){"use strict";angular.module("fundator",["fundator.controllers","fundator.filters","fundator.services","fundator.directives","fundator.routes","fundator.config"]);angular.module("fundator.routes",["ui.router","satellizer"]),angular.module("fundator.controllers",["ngResource","ngCookies","ngAnimate","ui.bootstrap","ui.router","satellizer","angularMoment","angular-owl-carousel","ngImgCrop","angularFileUpload","bootstrapLightbox","selectize"]),angular.module("fundator.filters",["ordinal"]),angular.module("fundator.services",["ui.router"]),angular.module("fundator.directives",["dibari.angular-ellipsis","localytics.directives","textAngular","flow","angular-ladda","ngFlag","oitozero.ngSweetAlert","ui.bootstrap-slider","Firestitch.angular-counter","ui.select","ngSanitize"]),angular.module("fundator.config",[])}(),function(){"use strict";angular.module("fundator.routes").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,o){var n=function(e,t){return"undefined"==typeof t&&(t=e),"./views/app/app/"+e+"/"+t+".html"};t.otherwise("/projects"),e.state("app",{"abstract":!0,views:{header:{templateUrl:n("header"),controller:"HeaderCtrl"},navigation:{templateUrl:n("header","navigation"),controller:"NavigationCtrl"},flashNotice:{templateUrl:n("header","flash-notice"),controller:"FlashNoticeCtrl"},footer:{templateUrl:n("footer"),controller:"FooterController"},notifications:{templateUrl:n("notifications","notifications"),controller:"NotificationsCtrl"},quickUpdate:{templateUrl:n("quick-update","quick-update"),controller:"QuickUpdateCtrl"},main:{}}}).state("app.auth",{url:"/auth","abstract":!0}).state("app.auth.login",{url:"/login",data:{needLogin:!1},views:{"main@":{templateUrl:n("auth","login"),controller:"AuthCtrl"}}}).state("app.auth.signup",{url:"/signup",data:{needLogin:!1},views:{"main@":{templateUrl:n("auth","signup"),controller:"AuthCtrl"}}}).state("app.auth.forgot",{url:"/forgot",data:{needLogin:!1},views:{"main@":{templateUrl:n("auth","forgot"),controller:"AuthCtrl"}}}).state("app.auth.recover",{url:"/recover/?token&email",data:{needLogin:!1},views:{"main@":{templateUrl:n("auth","recover"),controller:"AuthRecoverCtrl"}}}).state("app.auth.confirm",{url:"/confirm/?code&email",data:{needLogin:!1},views:{"main@":{templateUrl:n("auth","confirm"),controller:"AuthConfirmCtrl"}}}).state("app.auth.register",{url:"/register",data:{needLogin:!1},views:{"main@":{templateUrl:n("auth","register"),controller:"RegisterCtrl"}}}).state("app.home",{url:"/",data:{needLogin:!1},views:{"main@":{templateUrl:n("home","home"),controller:"HomeCtrl"}}}).state("app.projects",{url:"/projects",data:{needLogin:!0},views:{"main@":{templateUrl:n("project","projects"),controller:"ProjectsCtrl"}}}).state("app.project",{url:"/project/:projectId",data:{needLogin:!0},views:{"main@":{templateUrl:n("project","project"),controller:"ProjectCtrl"}}}).state("app.project.details",{url:"/details",data:{needLogin:!0},views:{"project-states":{templateUrl:n("project","project-details"),controller:"ProjectDetailsCtrl"}}}).state("app.project.progress",{url:"/progress",data:{needLogin:!0},views:{"project-states":{templateUrl:n("project","project-progress"),controller:"ProjectProgressCtrl"}}}).state("app.project.board",{url:"/board",data:{needLogin:!0},views:{"project-states":{templateUrl:n("project","project-board"),controller:"ProjectBoardCtrl"}}}).state("app.project.team",{url:"/team",data:{needLogin:!0},views:{"project-states":{templateUrl:n("project","project-team"),controller:"ProjectTeamCtrl"}}}).state("app.project.investors",{url:"/investors",data:{needLogin:!0},views:{"project-states":{templateUrl:n("project","project-investors"),controller:"ProjectInvestorsCtrl"}}}).state("app.project.mytask",{url:"/mytask",data:{needLogin:!0},views:{"project-states":{templateUrl:n("project","project-mytask"),controller:"ProjectTaskCtrl"}}}).state("app.contests",{url:"/contests",data:{needLogin:!0},views:{"main@":{templateUrl:n("contest"),controller:"ContestCtrl"}}}).state("app.contest",{url:"/contests/:contestId/:contestName",data:{needLogin:!0},views:{"main@":{templateUrl:n("contest","contest-single"),controller:"ContestSingleCtrl"}}}).state("app.expert",{url:"/expert",data:{needLogin:!0},views:{"main@":{templateUrl:n("expert"),controller:"ExpertCtrl"}}}).state("app.expertise",{url:"/expertise/:expertiseId",data:{needLogin:!0},views:{"main@":{templateUrl:n("expert","expertise"),controller:"ExpertiseCtrl"}}}).state("app.invest",{url:"/invest",data:{needLogin:!0},views:{"main@":{templateUrl:n("invest"),controller:"InvestCtrl"}}}).state("app.investment",{url:"/investment/:projectId",data:{needLogin:!0},views:{"main@":{templateUrl:n("invest","investment"),controller:"InvestmentCtrl"}}}).state("app.create",{url:"/create?projectId",data:{needLogin:!0},views:{"main@":{templateUrl:n("create"),controller:"CreateCtrl"}}}).state("app.create.details",{url:"/details",data:{needLogin:!0},views:{steps:{templateUrl:n("create","create-details"),controller:"CreateDetailsCtrl"}}}).state("app.create.superexpert",{url:"/super-expert",data:{needLogin:!0},views:{steps:{templateUrl:n("create","create-super-expert"),controller:"CreateSECtrl"}}}).state("app.create.expertise",{url:"/expertise",data:{needLogin:!0},views:{steps:{templateUrl:n("create","create-expertise"),controller:"CreateExpertiseCtrl"}}}).state("app.create.experts",{url:"/experts",data:{needLogin:!0},views:{steps:{templateUrl:n("create","create-experts"),controller:"CreateExpertCtrl"}}}).state("app.create.budget",{url:"/budget",data:{needLogin:!0},views:{steps:{templateUrl:n("create","create-budget"),controller:"CreateBudgetCtrl"}}}).state("app.create.investors",{url:"/investors",data:{needLogin:!0},views:{steps:{templateUrl:n("create","create-investors"),controller:"CreateInvestorsCtrl"}}}).state("app.transaction",{url:"/transaction",data:{needLogin:!0},views:{"main@":{templateUrl:n("transaction","transaction"),controller:"TransactionCtrl"}}}).state("app.grabshare",{url:"/grab-a-share",data:{needLogin:!0},views:{"main@":{templateUrl:n("invest","grab-a-share"),controller:"GrabShareCtrl"}}}).state("app.notifications",{url:"/notifications",data:{needLogin:!0},views:{"main@":{templateUrl:n("contest"),controller:"ContestCtrl"}}})}])}(),function(){"use strict";angular.module("fundator.routes").run(["$rootScope","$state","$stateParams","$auth","$timeout","$http","$urlRouter","$filter","$cookies","FdNotifications","FdScroller","API",function(e,t,o,n,a,i,r,s,c,d,l,u){e.$state=t,e.$stateParams=o,e.initialLocationSetup=!1,e.initialRoleAssignment=!1,e.activeRole="",e.activeState={name:"app.projects"},e.activeStateParams={},e.appLoading=!0,e.notificationCollapse=!1,e.isNavShown=!1,e.collapseNotification=function(t){e.notificationCollapse=t},e.toggleNavigation=function(){e.isNavShown=e.isNavShown>=.5?0:.5},e.$on("startLoading",function(){e.appLoading=!0}),e.$on("stopLoading",function(){e.appLoading=!1}),e.$on("$locationChangeSuccess",function(o){"undefined"==typeof e.user&&e.initialLocationSetup!==!0&&(o.preventDefault(),n.isAuthenticated()?(e.authenticated=!0,i.get(u.path("user?token=")+n.getToken()).then(function(o){if("undefined"==typeof o.error)if(e.user=o.data,d.init(),0===e.user.registered)e.initialRoleAssignment=!0,t.go("app.auth.register");else{var n=e.user.role,a=e.user.role;"undefined"!=typeof c.get("fd_active_role")&&(a=c.get("fd_active_role"));var i=s("filter")(e.user.user_roles,{role:a},!0);if("undefined"!=typeof i&&i.length>0){var r=i[0];e.switchUserRole(r.role,r.id,!e.initialRoleAssignment)}else e.switchUserRole(n.role,n.id,!e.initialRoleAssignment)}},function(){n.logout().then(function(){localStorage.removeItem("fundator_token"),e.authenticated=!1,e.user=void 0})}),r.sync(),r.listen()):e.authenticated=!1)},function(t){n.logout().then(function(){localStorage.removeItem("fundator_token"),e.authenticated=!1,e.user=void 0})}),e.$on("$stateChangeStart",function(o,a,i,r,s){if(n.isAuthenticated())return void(e.initialRoleAssignment||-1!==a.name.indexOf("auth")||(e.activeState=a,e.activeStateParams=i,o.preventDefault()));var c=!1;return c="undefined"==typeof a.data.needLogin?!0:a.data.needLogin,void(c&&(e.activeState=a,e.activeStateParams=i,o.preventDefault(),t.go("app.auth.login",{},{reload:!0})))});var p=function(e,t){return"undefined"==typeof t&&(t=e),"./views/app/app/"+e+"/"+t+".html"};e.switchUserRole=function(o,n,a,r,d){if(!e.switchingUserRole){e.activeRole=o,c.put("fd_active_role",o),e.switchingUserRole=!0,console.log("callig switch ... "),"undefined"==typeof r&&(r=t.current.name),"undefined"==typeof d&&(d=t.current.params),e.initialRoleAssignment||(e.initialRoleAssignment=!0),"undefined"!=typeof e.user&&0===e.user.user_roles.length&&e.user.user_roles.push({id:null,name:o,role:o});var l=[{route:"app",view:"quickUpdate",roles:{creator:p("quick-update","quick-update-creator"),expert:p("quick-update","quick-update-expert"),investor:p("quick-update","quick-update-investor"),jury:p("quick-update","quick-update-jury")},defaultTemplate:p("quick-update")},{route:"app.contest",view:"main@",roles:{creator:p("contest","contest-single-creator"),jury:p("contest","contest-single-jury")},defaultTemplate:p("contest","contest-single")},{route:"app.contests",view:"main@",roles:{creator:p("contest","contest-creator"),jury:p("contest","contest-jury")},defaultTemplate:p("contest")},{route:"app.projects",view:"main@",roles:{creator:p("project","projects-creator"),expert:p("project","projects-expert"),investor:p("project","projects-investor"),super_expert:p("project","projects-se")}}];angular.forEach(l,function(e){var n=e.roles[o],a=t.get(e.route).views[e.view];"undefined"!=typeof n?a.templateUrl=n:a.templateUrl=e.defaultTemplate});var g=null;if(null===n){var f=s("filter")(e.user.user_roles,{role:o},!0);"undefined"!=typeof f&&f.length>0&&(o=f[0],n=o.id)}switch(o){case"creator":g=u.path("creators/")+n;break;case"expert":g=u.path("experts/")+n;break;case"investor":g=u.path("investors/")+n}null!==g?i.get(g).then(function(n){e.user[o]=n.data,""===r&&(r=e.activeState.name,d=e.activeStateParams),t.go(r,d,{reload:a}),e.switchingUserRole=!1}):(""===r&&(r=e.activeState.name,d=e.activeStateParams),t.go(r,d,{reload:a}),e.switchingUserRole=!1)}},e.hasUserRole=function(t){if("undefined"!=typeof e.user){var o=s("filter")(e.user.user_roles,{role:t},!0);if(o.length>0)return!0}return!1}}])}(),function(){"use strict";angular.module("fundator.config").config(["$animateProvider",function(e){e.classNameFilter(/fd-animate/)}])}(),function(){"use strict";angular.module("fundator.config").config(["$authProvider","APIProvider",function(e,t){var o=window.location.protocol+"//"+window.location.hostname;e.loginUrl=o+"/api/v1/authenticate",e.tokenPrefix="fundator",e.linkedin({clientId:"77zjxfbh2928re",url:o+"/api/v1/authenticate/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:o,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",display:"popup",popupOptions:{width:452,height:633}}),e.google({clientId:"1042247727091-dmqc55af7tl58h2rqv3pqnrmjjbb9733.apps.googleusercontent.com",url:o+"/api/v1/authenticate/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:o+"/api/v1/authenticate/google",requiredUrlParams:["scope"],optionalUrlParams:["display"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",type:"2.0",popupOptions:{width:452,height:633}}),e.facebook({clientId:"900533123395920",name:"facebook",url:o+"/api/v1/authenticate/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:o,requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",type:"2.0",popupOptions:{width:580,height:400}})}])}(),function(){"use strict";angular.module("fundator.config").config(["flowFactoryProvider","APIProvider",function(e,t){e.defaults={uploadMethod:"POST",target:t.$get().path("files"),permanentErrors:[404,500,501]}}])}(),function(){"use strict";angular.module("fundator.config").config(["$httpProvider",function(e){}])}(),function(){"use strict";angular.module("fundator.config").config(["laddaProvider",function(e){e.setOption({style:"expand-right",spinnerSize:35,spinnerColor:"#ffffff"})}])}(),function(){"use strict";angular.module("fundator.directives").directive("fdChart",function(){return{template:'<canvas id="fdChart" width="{{width}}" height="{{height}}"></canvas>',restrict:"E",transclude:!0,scope:{data:"="},link:function(e,t,o){e.width=o.width,e.height=o.height,t.find("canvas").width(o.width),t.find("canvas").height(o.height);var n=[{value:4,color:"#006837",highlight:"#02753f",label:"Public"},{value:96,color:"#94c44d",highlight:"#8cba47",label:"Fundator"}],a={labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Planned",fillColor:"transparent",strokeColor:"#A6A8AB",pointColor:"#006837",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"#006837",data:[65,60,59,63,59,58,63,64,65,66,70,79]},{label:"Realized",fillColor:"transparent",strokeColor:"#A6A8AB",pointColor:"#93C658",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"#93C658",data:[28,22,16,21,17,20,27,25,23,32,40,45]}]},i=null,r=null;"A"===o.data?(i=t.find("canvas")[0].getContext("2d"),r=new Chart(i).Pie(n,{segmentShowStroke:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}),t.find("canvas").after('<div class="pie-chart-labels"></div>'),jQuery(n).each(function(e,o){t.find("canvas + .pie-chart-labels").prepend('<div class="pie-chart-label"><span style="background-color: '+o.color+';"></span> '+o.value+"% "+o.label+"</div>")})):(i=t.find("canvas")[0].getContext("2d"),r=new Chart(i).Line(a,{segmentShowStroke:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}),t.find("canvas").after('<div class="line-chart-labels"></div>'),t.find("canvas + .line-chart-labels").prepend('<div class="line-chart-label"><span style="background-color: #006837;"></span> Realized</div>'),t.find("canvas + .line-chart-labels").prepend('<div class="line-chart-label"><span style="background-color: #93C658;"></span> Planned</div>'))}}})}(),function(){"use strict";angular.module("fundator.directives").directive("fdLoader",function(){return{scope:{viewBox:"@"},restrict:"E",template:'<div class="fd-loader la-ball-pulse"><div></div><div></div><div></div></div>',link:function(e,t,o){t.addClass(o["class"])}}})}(),function(){"use strict";angular.module("fundator.directives").directive("fdMessenger",["$rootScope","$resource","$timeout","API",function(e,t,o,n){return{template:'<div class="chatbox" ng-if="threadId"><div class="chatRow" ng-repeat="message in messages"><div class="chat-userSendbox" ng-class="{\'chat-send\': user.id == message.user.id, \'chat-comein\': user.id != message.user.id}"><div class="chat-content">{{message.body}}</div></div><div class="caht-label" ng-class=\'{"text-right": user.id == message.user.id}\'>{{message.user.name}} <span>{{message.created_at | amDateFormat:"MMM Do YYYY"}}:</span></div></div><p class="no-have no-margin" ng-if="messages.length === 0">There are currently no messages.</p></div><form class="chatsendform" ng-if="threadId"><div class="input-group"><input type="text" class="form-control" placeholder="Enter your message here ..." ng-model="data.messageToSend" fd-enter="sendMessage()"><span class="input-group-addon sendbtn" ng-click="sendMessage()"><span class="glyphicon">Send</span></span></div></form>',restrict:"E",scope:{threadId:"="},link:function(a,i,r){a.data={},a.messages=[],a.user=e.user;var s=t(n.path("messages/:threadId"),{threadId:"@id"},{get:{method:"GET",isArray:!0}});a.$watch("threadId",function(e){"undefined"!=typeof e&&null!==e&&s.get({threadId:a.threadId}).$promise.then(function(e){console.log("retriving the thread : "+a.threadId),a.messages=e,$(".chatbox").animate({scrollTop:1e4})})}),a.sendMessage=function(){var e=new s;e.thread_id=a.threadId,e.message=a.data.messageToSend,e.$save().then(function(e){a.messages.push(e),a.data.messageToSend="",o(function(){$(".chatbox").animate({scrollTop:1e4})},100)})}}}}])}(),function(){"use strict";function e(e){return angular.isUndefined(e)||""===e||null===e||e!==e}angular.module("fundator.directives").directive("ngMin",function(){return{restrict:"A",require:"ngModel",link:function(t,o,n,a){t.$watch(n.ngMin,function(){a.$setViewValue(a.$viewValue)});var i=function(o){console.log("minValidator");var i=t.$eval(n.ngMin)||0;return console.log(i),console.log(o),console.log(!e(o)&&i>o),!e(o)&&i>o?void a.$setValidity("ngMin",!1):(a.$setValidity("ngMin",!0),o)};a.$parsers.push(i),a.$formatters.push(i)}}}),angular.module("fundator.directives").directive("ngMax",function(){return{restrict:"A",require:"ngModel",link:function(t,o,n,a){t.$watch(n.ngMax,function(){a.$setViewValue(a.$viewValue)});var i=function(o){console.log("maxValidator");var i=t.$eval(n.ngMax)||1/0;return console.log(i),console.log(o),console.log(!e(o)&&o>i),!e(o)&&o>i?void a.$setValidity("ngMax",!1):(a.$setValidity("ngMax",!0),o)};a.$parsers.push(i),a.$formatters.push(i)}}})}(),function(){"use strict";angular.module("fundator.directives").filter("trustedHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),angular.module("fundator.directives").directive("fdEnter",function(){return function(e,t,o){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(o.fdEnter)}),t.preventDefault())})}}),angular.module("fundator.directives").directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,o,n){n.$parsers.push(function(e){var t=e.toLowerCase().replace(/\D/g,"");return t!=e&&(n.$setViewValue(t),n.$render()),t})}}})}(),function(){"use strict";angular.module("fundator.directives").directive("fdProfileInput",["$compile","$timeout",function(e,t){return{restrict:"E",scope:{form:"@",type:"@",required:"@",label:"@",ngModel:"=",placeholder:"@",facebookValue:"=",linkedinValue:"="},controller:["$scope","$element","$attrs",function(e,t,o){e.formError="",e.conditions=[],e.isPristine=!0,e.validation=null,e.validationMessage="",e.replaceValue=function(t){e.ngModel=t}}],link:function(t,o,n){var a={text:'<input type="{{type}}" class="form-control" placeholder="{{placeholder}}" ng-model="ngModel">',textarea:'<textarea class="textarea form-control" placeholder="{{placeholder}}" ng-model="ngModel" rows="6"></textarea>'},i=a[t.type],r="";"textarea"!==t.type&&(r='<div class="social-alternative"><span class="icon icon-facebook" uib-tooltip="{{facebookValue}}" ng-class="{\'checked\': (ngModel === facebookValue) && ngModel !== \'\'}" ng-disabled="!facebookValue" ng-click="replaceValue(facebookValue)"></span><span class="icon icon-linkedin2" uib-tooltip="{{linkedinValue}}" ng-class="{\'checked\': (ngModel === linkedinValue) && ngModel !== \'\'}" ng-disabled="!linkedinValue" ng-click="replaceValue(linkedinValue)"></span></div>');var s='<div><label>{{label}}:</label><div class="form-group">'+i+r+"</div></div>";o.html(e(s)(t))}}}])}(),function(){"use strict";angular.module("fundator.filters").filter("stripTags",function(){return function(e){if("undefined"!=typeof e){var t=new RegExp(String.fromCharCode(160),"g");e=String(e).replace(t," "),e=e.replace(/[^\x00-\x7F]/g,""),e=e.replace(/&nbsp;/gi," ")}return e?String(e).replace(/<[^>]+>/gm,""):""}}),angular.module("fundator.filters").filter("cleanHtml",function(){return function(e){return"undefined"!=typeof e&&(e=e.replace(/[^\x00-\x7F]/g,"")),e}})}(),function(){"use strict";angular.module("fundator.services").factory("FdNotifications",["$rootScope","$q","$interval","$http","$state","API",function(e,t,o,n,a,i){var r={notifications:[],unread:0},s=function(e,t,o){r.notifications.unshift({type:e,title:t,message:o})};return{init:function(t){e.$watch("user",function(e){"undefined"!=typeof e&&("undefined"!=typeof t?r=t:n.get(i.path("notifications/")+e.id).then(function(e){r=e.data}))})},getLatestNotifications:function(){var e=t.defer(),n=o(function(){if(r.notifications.length>0){var t=angular.copy(r);t.notifications=t.notifications.slice(0,5),o.cancel(n),e.resolve(t)}},1e3);return e.promise},readNotification:function(e){return n.post(i.path("notifications/")+notificationId+"/read").then(function(t){e.read=1})},readAllNotifications:function(){return n.post(i.path("notifications/user/")+e.user.id+"/read").then(function(e){r.unread=0})},getNotifications:function(){return notifications},notify:function(e,t,o,n){toaster.pop(e,t,o),n&&s(e,t,o)},notifyError:function(){toaster.pop("error",title,message),s(type,title,message)}}}])}(),function(){"use strict";angular.module("fundator.services").factory("FdScroller",["$window",function(e){return{toTop:function(){var e=$("html, body");e.stop().animate({scrollTop:0},"500","swing")},toSection:function(e){var t=$(e);if(console.log(t),t.length>0){var o=t.offset().top-70,n=$("html, body");n.stop().animate({scrollTop:o},"500","swing")}}}}])}(),function(){"use strict";angular.module("fundator.services").value("Countries",function(){return[{name:"Afghanistan",code:"AF"},{name:"Ã…land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:'Cote D"Ivoire',code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:'Korea, Democratic People"S Republic of',code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:'Lao People"S Democratic Republic',code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]})}(),function(){"use strict";angular.module("fundator.services").value("CountryCodes",function(){return[{iso:"AF",country:"Afghanistan",code:"93"},{iso:"AL",country:"Albania",code:"355"},{iso:"DZ",country:"Algeria",code:"213"},{iso:"AS",country:"American Samoa",code:"1684"},{iso:"AD",country:"Andorra",code:"376"},{iso:"AO",country:"Angola",code:"244"},{iso:"AI",country:"Anguilla",code:"1264"},{iso:"AQ",country:"Antarctica",code:"0"},{iso:"AG",country:"Antigua and Barbuda",code:"1268"},{iso:"AR",country:"Argentina",code:"54"},{iso:"AM",country:"Armenia",code:"374"},{iso:"AW",country:"Aruba",code:"297"},{iso:"AU",country:"Australia",code:"61"},{iso:"AT",country:"Austria",code:"43"},{iso:"AZ",country:"Azerbaijan",code:"994"},{iso:"BS",country:"Bahamas",code:"1242"},{iso:"BH",country:"Bahrain",code:"973"},{iso:"BD",country:"Bangladesh",code:"880"},{iso:"BB",country:"Barbados",code:"1246"},{iso:"BY",country:"Belarus",code:"375"},{iso:"BE",country:"Belgium",code:"32"},{iso:"BZ",country:"Belize",code:"501"},{iso:"BJ",country:"Benin",code:"229"},{iso:"BM",country:"Bermuda",code:"1441"},{iso:"BT",country:"Bhutan",code:"975"},{iso:"BO",country:"Bolivia",code:"591"},{iso:"BA",country:"Bosnia and Herzegovina",code:"387"},{iso:"BW",country:"Botswana",code:"267"},{iso:"BV",country:"Bouvet Island",code:"0"},{iso:"BR",country:"Brazil",code:"55"},{iso:"IO",country:"British Indian Ocean Territory",code:"246"},{iso:"BN",country:"Brunei Darussalam",code:"673"},{iso:"BG",country:"Bulgaria",code:"359"},{iso:"BF",country:"Burkina Faso",code:"226"},{iso:"BI",country:"Burundi",code:"257"},{iso:"KH",country:"Cambodia",code:"855"},{iso:"CM",country:"Cameroon",code:"237"},{iso:"CA",country:"Canada",code:"1"},{iso:"CV",country:"Cape Verde",code:"238"},{iso:"KY",country:"Cayman Islands",code:"1345"},{iso:"CF",country:"Central African Republic",code:"236"},{iso:"TD",country:"Chad",code:"235"},{iso:"CL",country:"Chile",code:"56"},{iso:"CN",country:"China",code:"86"},{iso:"CX",country:"Christmas Island",code:"61"},{iso:"CC",country:"Cocos (Keeling) Islands",code:"672"},{iso:"CO",country:"Colombia",code:"57"},{iso:"KM",country:"Comoros",code:"269"},{iso:"CG",country:"Congo",code:"242"},{iso:"CD",country:"Congo, the Democratic Republic of the",code:"242"},{iso:"CK",country:"Cook Islands",code:"682"},{iso:"CR",country:"Costa Rica",code:"506"},{iso:"CI",country:"Cote D'Ivoire",code:"225"},{iso:"HR",country:"Croatia",code:"385"},{iso:"CU",country:"Cuba",code:"53"},{iso:"CY",country:"Cyprus",code:"357"},{iso:"CZ",country:"Czech Republic",code:"420"},{iso:"DK",country:"Denmark",code:"45"},{iso:"DJ",country:"Djibouti",code:"253"},{iso:"DM",country:"Dominica",code:"1767"},{iso:"DO",country:"Dominican Republic",code:"1809"},{iso:"EC",country:"Ecuador",code:"593"},{iso:"EG",country:"Egypt",code:"20"},{iso:"SV",country:"El Salvador",code:"503"},{iso:"GQ",country:"Equatorial Guinea",code:"240"},{iso:"ER",country:"Eritrea",code:"291"},{iso:"EE",country:"Estonia",code:"372"},{iso:"ET",country:"Ethiopia",code:"251"},{iso:"FK",
country:"Falkland Islands (Malvinas)",code:"500"},{iso:"FO",country:"Faroe Islands",code:"298"},{iso:"FJ",country:"Fiji",code:"679"},{iso:"FI",country:"Finland",code:"358"},{iso:"FR",country:"France",code:"33"},{iso:"GF",country:"French Guiana",code:"594"},{iso:"PF",country:"French Polynesia",code:"689"},{iso:"TF",country:"French Southern Territories",code:"0"},{iso:"GA",country:"Gabon",code:"241"},{iso:"GM",country:"Gambia",code:"220"},{iso:"GE",country:"Georgia",code:"995"},{iso:"DE",country:"Germany",code:"49"},{iso:"GH",country:"Ghana",code:"233"},{iso:"GI",country:"Gibraltar",code:"350"},{iso:"GR",country:"Greece",code:"30"},{iso:"GL",country:"Greenland",code:"299"},{iso:"GD",country:"Grenada",code:"1473"},{iso:"GP",country:"Guadeloupe",code:"590"},{iso:"GU",country:"Guam",code:"1671"},{iso:"GT",country:"Guatemala",code:"502"},{iso:"GN",country:"Guinea",code:"224"},{iso:"GW",country:"Guinea-Bissau",code:"245"},{iso:"GY",country:"Guyana",code:"592"},{iso:"HT",country:"Haiti",code:"509"},{iso:"HM",country:"Heard Island and Mcdonald Islands",code:"0"},{iso:"VA",country:"Holy See (Vatican City State)",code:"39"},{iso:"HN",country:"Honduras",code:"504"},{iso:"HK",country:"Hong Kong",code:"852"},{iso:"HU",country:"Hungary",code:"36"},{iso:"IS",country:"Iceland",code:"354"},{iso:"IN",country:"India",code:"91"},{iso:"ID",country:"Indonesia",code:"62"},{iso:"IR",country:"Iran, Islamic Republic of",code:"98"},{iso:"IQ",country:"Iraq",code:"964"},{iso:"IE",country:"Ireland",code:"353"},{iso:"IL",country:"Israel",code:"972"},{iso:"IT",country:"Italy",code:"39"},{iso:"JM",country:"Jamaica",code:"1876"},{iso:"JP",country:"Japan",code:"81"},{iso:"JO",country:"Jordan",code:"962"},{iso:"KZ",country:"Kazakhstan",code:"7"},{iso:"KE",country:"Kenya",code:"254"},{iso:"KI",country:"Kiribati",code:"686"},{iso:"KP",country:"Korea, Democratic People's Republic of",code:"850"},{iso:"KR",country:"Korea, Republic of",code:"82"},{iso:"KW",country:"Kuwait",code:"965"},{iso:"KG",country:"Kyrgyzstan",code:"996"},{iso:"LA",country:"Lao People's Democratic Republic",code:"856"},{iso:"LV",country:"Latvia",code:"371"},{iso:"LB",country:"Lebanon",code:"961"},{iso:"LS",country:"Lesotho",code:"266"},{iso:"LR",country:"Liberia",code:"231"},{iso:"LY",country:"Libyan Arab Jamahiriya",code:"218"},{iso:"LI",country:"Liechtenstein",code:"423"},{iso:"LT",country:"Lithuania",code:"370"},{iso:"LU",country:"Luxembourg",code:"352"},{iso:"MO",country:"Macao",code:"853"},{iso:"MK",country:"Macedonia, the Former Yugoslav Republic of",code:"389"},{iso:"MG",country:"Madagascar",code:"261"},{iso:"MW",country:"Malawi",code:"265"},{iso:"MY",country:"Malaysia",code:"60"},{iso:"MV",country:"Maldives",code:"960"},{iso:"ML",country:"Mali",code:"223"},{iso:"MT",country:"Malta",code:"356"},{iso:"MH",country:"Marshall Islands",code:"692"},{iso:"MQ",country:"Martinique",code:"596"},{iso:"MR",country:"Mauritania",code:"222"},{iso:"MU",country:"Mauritius",code:"230"},{iso:"YT",country:"Mayotte",code:"269"},{iso:"MX",country:"Mexico",code:"52"},{iso:"FM",country:"Micronesia, Federated States of",code:"691"},{iso:"MD",country:"Moldova, Republic of",code:"373"},{iso:"MC",country:"Monaco",code:"377"},{iso:"MN",country:"Mongolia",code:"976"},{iso:"MS",country:"Montserrat",code:"1664"},{iso:"MA",country:"Morocco",code:"212"},{iso:"MZ",country:"Mozambique",code:"258"},{iso:"MM",country:"Myanmar",code:"95"},{iso:"NA",country:"Namibia",code:"264"},{iso:"NR",country:"Nauru",code:"674"},{iso:"NP",country:"Nepal",code:"977"},{iso:"NL",country:"Netherlands",code:"31"},{iso:"AN",country:"Netherlands Antilles",code:"599"},{iso:"NC",country:"New Caledonia",code:"687"},{iso:"NZ",country:"New Zealand",code:"64"},{iso:"NI",country:"Nicaragua",code:"505"},{iso:"NE",country:"Niger",code:"227"},{iso:"NG",country:"Nigeria",code:"234"},{iso:"NU",country:"Niue",code:"683"},{iso:"NF",country:"Norfolk Island",code:"672"},{iso:"MP",country:"Northern Mariana Islands",code:"1670"},{iso:"NO",country:"Norway",code:"47"},{iso:"OM",country:"Oman",code:"968"},{iso:"PK",country:"Pakistan",code:"92"},{iso:"PW",country:"Palau",code:"680"},{iso:"PS",country:"Palestinian Territory, Occupied",code:"970"},{iso:"PA",country:"Panama",code:"507"},{iso:"PG",country:"Papua New Guinea",code:"675"},{iso:"PY",country:"Paraguay",code:"595"},{iso:"PE",country:"Peru",code:"51"},{iso:"PH",country:"Philippines",code:"63"},{iso:"PN",country:"Pitcairn",code:"0"},{iso:"PL",country:"Poland",code:"48"},{iso:"PT",country:"Portugal",code:"351"},{iso:"PR",country:"Puerto Rico",code:"1787"},{iso:"QA",country:"Qatar",code:"974"},{iso:"RE",country:"Reunion",code:"262"},{iso:"RO",country:"Romania",code:"40"},{iso:"RU",country:"Russian Federation",code:"70"},{iso:"RW",country:"Rwanda",code:"250"},{iso:"SH",country:"Saint Helena",code:"290"},{iso:"KN",country:"Saint Kitts and Nevis",code:"1869"},{iso:"LC",country:"Saint Lucia",code:"1758"},{iso:"PM",country:"Saint Pierre and Miquelon",code:"508"},{iso:"VC",country:"Saint Vincent and the Grenadines",code:"1784"},{iso:"WS",country:"Samoa",code:"684"},{iso:"SM",country:"San Marino",code:"378"},{iso:"ST",country:"Sao Tome and Principe",code:"239"},{iso:"SA",country:"Saudi Arabia",code:"966"},{iso:"SN",country:"Senegal",code:"221"},{iso:"CS",country:"Serbia and Montenegro",code:"381"},{iso:"SC",country:"Seychelles",code:"248"},{iso:"SL",country:"Sierra Leone",code:"232"},{iso:"SG",country:"Singapore",code:"65"},{iso:"SK",country:"Slovakia",code:"421"},{iso:"SI",country:"Slovenia",code:"386"},{iso:"SB",country:"Solomon Islands",code:"677"},{iso:"SO",country:"Somalia",code:"252"},{iso:"ZA",country:"South Africa",code:"27"},{iso:"GS",country:"South Georgia and the South Sandwich Islands",code:"0"},{iso:"ES",country:"Spain",code:"34"},{iso:"LK",country:"Sri Lanka",code:"94"},{iso:"SD",country:"Sudan",code:"249"},{iso:"SR",country:"Suriname",code:"597"},{iso:"SJ",country:"Svalbard and Jan Mayen",code:"47"},{iso:"SZ",country:"Swaziland",code:"268"},{iso:"SE",country:"Sweden",code:"46"},{iso:"CH",country:"Switzerland",code:"41"},{iso:"SY",country:"Syrian Arab Republic",code:"963"},{iso:"TW",country:"Taiwan, Province of China",code:"886"},{iso:"TJ",country:"Tajikistan",code:"992"},{iso:"TZ",country:"Tanzania, United Republic of",code:"255"},{iso:"TH",country:"Thailand",code:"66"},{iso:"TL",country:"Timor-Leste",code:"670"},{iso:"TG",country:"Togo",code:"228"},{iso:"TK",country:"Tokelau",code:"690"},{iso:"TO",country:"Tonga",code:"676"},{iso:"TT",country:"Trinidad and Tobago",code:"1868"},{iso:"TN",country:"Tunisia",code:"216"},{iso:"TR",country:"Turkey",code:"90"},{iso:"TM",country:"Turkmenistan",code:"7370"},{iso:"TC",country:"Turks and Caicos Islands",code:"1649"},{iso:"TV",country:"Tuvalu",code:"688"},{iso:"UG",country:"Uganda",code:"256"},{iso:"UA",country:"Ukraine",code:"380"},{iso:"AE",country:"United Arab Emirates",code:"971"},{iso:"GB",country:"United Kingdom",code:"44"},{iso:"US",country:"United States",code:"1"},{iso:"UM",country:"United States Minor Outlying Islands",code:"1"},{iso:"UY",country:"Uruguay",code:"598"},{iso:"UZ",country:"Uzbekistan",code:"998"},{iso:"VU",country:"Vanuatu",code:"678"},{iso:"VE",country:"Venezuela",code:"58"},{iso:"VN",country:"Viet Nam",code:"84"},{iso:"VG",country:"Virgin Islands, British",code:"1284"},{iso:"VI",country:"Virgin Islands, U.s.",code:"1340"},{iso:"WF",country:"Wallis and Futuna",code:"681"},{iso:"EH",country:"Western Sahara",code:"212"},{iso:"YE",country:"Yemen",code:"967"},{iso:"ZM",country:"Zambia",code:"260"},{iso:"ZW",country:"Zimbabwe",code:"263"}]})}(),function(){"use strict";angular.module("fundator.services").factory("API",function(){var e=(-1!==window.location.hostname.indexOf("fundator.co")?"fundator.co":"fundator.app","http://"+window.location.hostname+"/api/");return{path:function(t,o){"undefined"==typeof o&&(o="v1");var n=t.startsWith("/")?"":"/";return e+o+n+t}}}),angular.module("fundator.services").provider("APIProvider",function(){var e=(-1!==window.location.hostname.indexOf("fundator.co")?"fundator.co":"fundator.app","http://"+window.location.hostname+"/api/");this.$get=function(){return{path:function(t,o){"undefined"==typeof o&&(o="v1");var n=t.startsWith("/")?"":"/";return e+o+n+t}}}})}(),function(){"use strict";angular.module("fundator.controllers").controller("AuthCtrl",["$rootScope","$scope","$state","$auth","$http","$timeout","FdScroller","API",function(e,t,o,n,a,i,r,s){t.$on("$viewContentLoaded",function(){i(function(){e.appLoaded=!0},1e3)}),e.$broadcast("stopLoading"),n.isAuthenticated()?o.go("app.projects"):r.toTop(),t.data={},t.signup=function(){var e={name:t.data.name,email:t.data.email,password:t.data.password};a.post(s.path("authenticate/signup"),e).then(function(e){"undefined"==typeof e.data.error&&e.data.success===!0&&"undefined"!=typeof e.data.message&&(t.errorMessage=null,t.successMessage=e.data.message)},function(e){"undefined"!=typeof e.data.message.email&&(console.log(e.data.message.email[0]),t.successMessage=null,t.errorMessage=e.data.message.email[0])})},t.login=function(){t.errorMessage="",e.$broadcast("startLoading"),r.toTop();var a={email:t.data.email,password:t.data.password};console.log(a),n.login(a).then(function(t){n.setToken(t.data.token);var a=n.getPayload(),r=e.activeState.name,s=e.activeStateParams;i(function(){"undefined"==typeof r?o.go("app.auth.signup"):(o.go("app.projects"),e.switchUserRole(a.role,a.role_id,!0,r,s))},100)},function(o){e.$broadcast("stopLoading"),"Unauthorized"===o.statusText?t.errorMessage="The email or password you entered is incorrect.":t.errorMessage=o.statusText})},t.authenticate=function(t){e.$broadcast("startLoading"),n.authenticate(t).then(function(t){n.setToken(result.data.token);var a=n.getPayload(),r=e.activeState.name,s=e.activeStateParams;i(function(){"undefined"==typeof r?o.go("app.auth.signup"):(o.go("app.projects"),e.switchUserRole(a.role,a.role_id,!0,r,s))},100)})["catch"](function(t){console.log("Not Logged in "),console.log(t),e.$broadcast("stopLoading")})},t.logout=function(){n.logout().then(function(){localStorage.removeItem("fundator_token"),e.authenticated=!1,e.user=void 0,o.go("app.auth.login",{},{reload:!0})})}}]),angular.module("fundator.controllers").controller("AuthConfirmCtrl",["$rootScope","$scope","$state","$stateParams","$auth","$timeout","$http","API",function(e,t,o,n,a,i,r,s){if(e.$broadcast("stopLoading"),"undefined"!=typeof n.code&&"undefined"!=typeof n.email){var c={confirmation_code:n.code,email:n.email};console.log("authenticating ..."),t.loading=!0,r.post(s.path("authenticate/confirm"),c).then(function(e){console.log("confirm result"),console.log(e),a.setToken(e.data.token),o.go("app.auth.login")},function(e){console.log("error"),console.log(e),t.errorMessage=e.data.error})["finally"](function(){t.loading=!1})}else o.go("app.auth.login")}]),angular.module("fundator.controllers").controller("AuthRecoverCtrl",["$rootScope","$scope","$state","$stateParams","$auth","$timeout","$http","API",function(e,t,o,n,a,i,r,s){e.$broadcast("stopLoading"),console.log("recovering ..."),t.data={recoveryEmail:"",password:"",password_repeat:""},"undefined"==typeof n.token&&"undefined"==typeof n.email?t.viewState="recover":t.viewState="set",t.recover=function(){t.viewState="loading";var e={email:t.data.recoveryEmail};r.post(s.path("authenticate/forgot"),e).then(function(e){"undefined"==typeof e.data.error?(t.successMessage="A password reset link has been sent to your email.",t.viewState=""):(t.viewState="recover","Invalid User"===e.data.error?t.errorMessage="User does not exist":t.errorMessage="Error in recovering password")},function(e){t.viewState="recover","Invalid User"===e.data.error?t.errorMessage="User does not exist":t.errorMessage="Error in recovering password"})},t.set=function(){if(t.data.password.length>=6)if(t.data.password===t.data.password_repeat){t.viewState="loading";var e={token:n.token,email:n.email,password:t.data.password,password_confirmation:t.data.password_repeat};r.post(s.path("authenticate/recover"),e).then(function(e){"undefined"==typeof e.data.error?(a.removeToken(),a.setToken(e.data.token),o.go("app.auth.login",{})):(t.errorMessage="Error in resetting password",t.viewState="set")},function(e){t.errorMessage="Error in resetting password",t.viewState="set"})}else t.errorMessage="Passwords do not match!";else t.errorMessage="Passwords need to be longer than 6 characters!"}}])}(),function(){"use strict";function e(e){console.log(e);var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var o=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return new Blob([n],{type:o})}angular.module("fundator.directives").directive("focusOn",function(){return{scope:{focusOn:"="},link:function(e,t,o){console.log(e.focusOn),e.focusOn&&t[0].focus()}}}),angular.module("fundator.controllers").controller("RegisterCtrl",["$rootScope","$scope","$state","$auth","$timeout","$http","$resource","FdScroller","$filter","FileUploader","Countries","CountryCodes","API",function(t,o,n,a,i,r,s,c,d,l,u,p,g){function f(){var e={selectedExpertise:"null",otherExpertise:{status:1}};console.log(o.inputtedExpertiseList),console.log(e),o.inputtedExpertiseList.length<3&&null!==e.selectedExpertise&&0!==e.otherExpertise.status&&o.inputtedExpertiseList.push({expertiseCategoryList:[],expertiseSubCategoryList:[],expertiseList:[],skillsList:[],selectedExpertiseCategory:null,otherExpertiseCategory:{name:"",status:0},selectedExpertiseSubCategory:null,otherExpertiseSubCategory:{name:"",status:0},selectedExpertise:null,otherExpertise:{name:"",status:0},selectedSkills:[],otherSkills:{list:[],status:0},step:1,loading:!1}),o.fetchExpertiseCategory(o.inputtedExpertiseList.length-1)}o.single=null,o.form={currentStep:1,totalSteps:3},o.totalSteps={creator:3,expert:4,investor:4},o.changeRoleStart=function(e){o.data.selectedRole=e,o.changeRole(),o.form.currentStep=1},o.changeFormStep=function(e){c.toTop(),o.form.currentStep=e},o.countries=new u,o.countryCodes=new p,o.countryConfig={options:o.countries,sortField:"name",maxItems:5,valueField:"code",labelField:"name",searchField:"name"},o.countryConfig2={options:o.countries,sortField:"name",maxItems:1,valueField:"code",labelField:"name",searchField:"name"},o.countryCodeConfig={options:o.countryCodes,sortField:"country",maxItems:1,valueField:"code",labelField:"code",searchField:["code","country"]},o.contactTimes=[{name:"Working hours (9am to 6 pm)",value:"9-6"},{name:"Evening time (6am to 9 pm)",value:"6-9"}],o.data={selectedRole:"creator",ageGate:"yes",countryOrigin:"",countryResidence:"",contactTime:"",expertiseForm:{step:1,loading:!0},croppedThumbnail:null,email:""};a.getPayload();t.$broadcast("stopLoading"),o.changeRole=function(){o.form.totalSteps=o.totalSteps[o.data.selectedRole]},o.getProgress=function(){return Math.min(o.form.currentStep/o.form.totalSteps*100,96)},o.getProgressInverted=function(){return Math.max(100*(1-o.form.currentStep/o.form.totalSteps),4)},o.thumbnail=null,o.croppedThumbnail=null,o.fileName="No file selected",o.imageError=null,t.$watch("user",function(e){"undefined"!=typeof e&&(1==e.registered&&n.go("app.contests"),o.data.email=e.email)},!0);var m=function(e,t){e.stopPropagation(),e.preventDefault();var n=null;o.$apply(function(){o.dropable=!1}),n=e.originalEvent.dataTransfer?e.originalEvent.dataTransfer.files[0]:e.currentTarget.files[0];var a=new FileReader;return-1==n.type.indexOf("image")?void o.$apply(function(e){e.imageError="Please select a valid image to crop"}):(o.imageError=null,o.fileName=n.name,a.onload=function(e){o.$apply(function(t){console.log(e.target.result),t.thumbnail=e.target.result})},void(n&&a.readAsDataURL(n)))};$(document).on("dragover dragleave dragenter",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault()}),$(document).on("dragenter",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault(),o.$apply(function(){o.dropable=!0})}),$(document).on("dragleave",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault(),o.$apply(function(){o.dropable=!1})}),$(document).on("change","#fileInput",function(e){m(e,!1)}),$(document).on("drop",".img-upload-show",function(e){m(e,!0)}),o.uploader=new l({url:g.path("files"),removeAfterUpload:!0}),o.confirmImage=function(){var n=o.data.croppedThumbnail;o.uploader.onBeforeUploadItem=function(e){e.file.name="thumbnail_"+t.user.id+".png",e.formData=[],e.formData.push({attach:"thumbnail"}),e.formData.push({user_id:t.user.id}),o.data.imageSuccess=null},o.uploader.onSuccessItem=function(e,t,n,a){"undefined"!=typeof t.file?o.data.imageSuccess="Your profile picture was successfully uploaded!":o.data.imageError="Profile picture failed to upload, please try again!"},o.uploader.addToQueue(e(n)),o.uploader.uploadAll()},o.inputtedExpertiseList=[],o.selectExpertiseCategory=function(e,t,n){0===n?(o.inputtedExpertiseList[e].selectedExpertiseCategory=t,o.inputtedExpertiseList[e].step=2,o.fetchExpertiseSubCategory(e)):(o.inputtedExpertiseList[e].selectedExpertiseSubCategory=t,o.inputtedExpertiseList[e].step=3,o.fetchExpertiseList(e))},o.deselectExpertiseCategory=function(e,t,n){0===n?(o.inputtedExpertiseList[t].selectedExpertiseCategory=null,o.inputtedExpertiseList[t].otherExpertiseCategory={name:"",status:0},o.inputtedExpertiseList[t].selectedExpertiseSubCategory=null,o.inputtedExpertiseList[t].otherExpertiseSubCategory={name:"",status:0},o.inputtedExpertiseList[t].selectedExpertise=null,o.inputtedExpertiseList[t].otherExpertise={name:"",status:0},o.inputtedExpertiseList[t].selectedSkills=[]):(o.inputtedExpertiseList[t].selectedExpertiseSubCategory=null,o.inputtedExpertiseList[t].otherExpertiseSubCategory={name:"",status:0},o.inputtedExpertiseList[t].selectedExpertise=null,o.inputtedExpertiseList[t].otherExpertise={name:"",status:0},o.inputtedExpertiseList[t].selectedSkills=[]),e.stopPropagation()},o.saveOtherExpertiseCategory=function(e,t){0===t?(o.inputtedExpertiseList[e].selectedExpertiseCategory=null,o.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,o.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},o.inputtedExpertiseList[e].selectedExpertise=null,o.inputtedExpertiseList[e].otherExpertise={name:"",status:0},o.inputtedExpertiseList[e].selectedSkills=[],o.inputtedExpertiseList[e].otherExpertiseCategory.status=1,o.inputtedExpertiseList[e].step=2):(o.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,o.inputtedExpertiseList[e].selectedExpertise=null,o.inputtedExpertiseList[e].otherExpertise={name:"",status:0},o.inputtedExpertiseList[e].selectedSkills=[],o.inputtedExpertiseList[e].otherExpertiseSubCategory.status=1,o.inputtedExpertiseList[e].step=3)},o.removeOtherExpertiseCategory=function(e,t){0===t?(o.inputtedExpertiseList[e].otherExpertiseCategory={name:"",status:0},o.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},o.inputtedExpertiseList[e].otherExpertise={name:"",status:0}):(o.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},o.inputtedExpertiseList[e].otherExpertise={name:"",status:0})},o.selectExpertise=function(e,t){o.inputtedExpertiseList[e].selectedExpertise=t,o.inputtedExpertiseList[e].otherExpertise={name:"",status:0},o.inputtedExpertiseList[e].step=4,o.fetchSkillsList(e),f()},o.deselectExpertise=function(e,t){o.inputtedExpertiseList[t].selectedExpertise=null,o.inputtedExpertiseList[t].selectedSkills=[],e.stopPropagation(t)},o.saveOtherExpertise=function(e){o.inputtedExpertiseList[e].selectedExpertise=null,o.inputtedExpertiseList[e].selectedSkills=[],o.inputtedExpertiseList[e].otherExpertise.status=1,o.inputtedExpertiseList[e].step=4,f()},o.removeOtherExpertise=function(e){o.inputtedExpertiseList[e].otherExpertise={name:"",status:0}},o.inSkills=function(e,t){var n=d("filter")(o.inputtedExpertiseList[e].selectedSkills,{id:t.id},!0);return"undefined"!=typeof n?n.length>0:!1},o.selectSkill=function(e,t){o.inSkills(e,t)||o.inputtedExpertiseList[e].selectedSkills.push(t),o.inputtedExpertiseList[e].step=4},o.deselectSkill=function(e,t,n){o.inputtedExpertiseList[t].selectedSkills=d("filter")(o.inputtedExpertiseList[t].selectedSkills,{id:n.id},function(e,t){return!angular.equals(e,t)}),e.stopPropagation()},o.saveSkills=function(e){o.inputtedExpertiseList[e].skillsList=angular.copy(o.inputtedExpertiseList[e].otherSkills.list),o.inputtedExpertiseList[e].selectedSkills=angular.copy(o.inputtedExpertiseList[e].otherSkills.list),o.inputtedExpertiseList[e].otherSkills={list:[],status:0}},o.fetchExpertiseCategory=function(e){o.inputtedExpertiseList[e].expertiseCategoryList=[],o.inputtedExpertiseList[e].loading=!0,r.get(g.path("expertise-category/0")).then(function(t){o.inputtedExpertiseList[e].expertiseCategoryList=t.data,o.inputtedExpertiseList[e].loading=!1})},o.fetchExpertiseSubCategory=function(e){o.expertiseSubCategoryList=[],o.inputtedExpertiseList[e].loading=!0,r.get(g.path("expertise-category/")+o.inputtedExpertiseList[e].selectedExpertiseCategory.id).then(function(t){o.inputtedExpertiseList[e].expertiseSubCategoryList=t.data,o.inputtedExpertiseList[e].loading=!1})},o.fetchExpertiseList=function(e){o.inputtedExpertiseList[e].expertiseList=[],o.inputtedExpertiseList[e].loading=!0,r.get(g.path("expertise/category/")+o.inputtedExpertiseList[e].selectedExpertiseSubCategory.id).then(function(t){o.inputtedExpertiseList[e].expertiseList=t.data,o.inputtedExpertiseList[e].loading=!1},2e3)},o.fetchSkillsList=function(e){o.inputtedExpertiseList[e].skillsList=[],o.inputtedExpertiseList[e].loading=!0,r.get(g.path("expertise/")+o.inputtedExpertiseList[e].selectedExpertise.id+"/skills/").then(function(t){o.inputtedExpertiseList[e].skillsList=t.data,o.inputtedExpertiseList[e].selectedSkills=t.data,o.inputtedExpertiseList[e].loading=!1},2e3)},r.get(g.path("innovationList")).then(function(e){o.innovations=e.data}),r.get(g.path("creationList")).then(function(e){o.creations=e.data}),f(),o.submitDetails=function(){var e={name:o.data.fname,last_name:o.data.lname,role:o.data.selectedRole,age_gate:o.data.ageGate,country_origin:o.data.countryOrigin,country_residence:o.data.countryResidence,contact_number:o.data.contactNumber,contact_number_country_code:o.data.contactNumberCountryCode.code,contact_time:o.data.contactTime.value};switch(o.data.selectedRole){case"investor":var a=o.data.selectedInvestmentBudget;"other"===a&&(a=o.data.selectedInvestmentBudgetOther),e.investor={},e.investor.investment_budget=a,e.investor.investment_goal=o.data.selectedInvestmentGoal,e.investor.investment_reason=o.data.selectedInvestmentReason;break;case"creator":e.creator={};break;case"expert":e.expert={list:[]},angular.forEach(o.inputtedExpertiseList,function(t){(null!==t.selectedExpertise||1===t.otherExpertise.status)&&e.expert.list.push({expertise_category:t.selectedExpertiseCategory,other_expertise_category:t.otherExpertiseCategory,expertise_sub_category:t.selectedExpertiseSubCategory,other_expertise_sub_category:t.otherExpertiseSubCategory,expertise:t.selectedExpertise,other_expertise:t.otherExpertise,skills:t.selectedSkills})})}t.$broadcast("startLoading"),c.toTop(),r.put(g.path("users/")+t.user.id,e).then(function(e){"Updated"===e.data&&(t.user.name=o.data.fname,t.user.last_name=o.data.lname,t.user.role=o.data.selectedRole,t.user.registered=1,t.initialRoleAssignment=!0,t.activeRole=o.data.selectedRole,n.go("app.contests"),t.switchUserRole(o.data.selectedRole,null,!0))},function(e){console.log("error"),console.log(e)})["finally"](function(){t.$broadcast("stopLoading")})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("ContestCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.contests=[],t.sectionLoading=!0;var d=a(c.path("contests/:contestId"),{contestId:"@id"});d.query().$promise.then(function(o){t.contests=o,t.ongoingContests=[],t.judgingContests=[];var n=0,a=null;if("creator"===e.activeRole&&"undefined"!=typeof e.user.creator){for(var i in e.user.creator.ongoing_contest)if(n=e.user.creator.ongoing_contest[i],a=s("filter")(o,{id:n},!0)[0],"undefined"!=typeof a){t.ongoingContests.push(a);var r=t.contests.indexOf(a);t.contests.splice(r,1)}}else if("jury"===e.activeRole&&e.user.judging.length>0)for(var c in e.user.judging)n=e.user.judging[c].contest_id,a=s("filter")(o,{id:n},!0)[0],"undefined"!=typeof a&&t.judgingContests.push(a)})["finally"](function(){r(function(){t.sectionLoading=!1},1e3)})}]),angular.module("fundator.controllers").controller("ContestSingleCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$filter","$timeout","FdScroller","$http","Lightbox","API",function(e,t,o,n,a,i,r,s,c,d,l){e.$broadcast("stopLoading"),t.contestId=n.contestId,t.data={contestFullDescription:!1,addEntry:!1,addEntryForm:{description:"",attachedFiles:[]},selectedEntry:null,rating:{design:"",creativity:"",industrial:"",market:""}};var u=a(l.path("contests/:contestId"),{contestId:"@id"}),p=a(l.path("entries/:entryId"),{entryId:"@id"},{contestantEntries:{method:"GET",url:l.path("entries/contest/:contestId/creator/:creatorId"),isArray:!0},judgeEntries:{method:"GET",url:l.path("entries/contest/:contestId/judge/:judgeId"),isArray:!0},sendMessage:{method:"POST",url:l.path("entries/:entryId/messages"),isArray:!1}}),g=a(l.path("entry-ratings/:entryRatingId"),{entryRatingId:"@id"},{update:{method:"PUT"}});s.toTop(),t.showFullText=function(){s.toSection(".contest-single",50),t.data.contestFullDescription=!0},t.hideFullText=function(){s.toTop(),t.data.contestFullDescription=!1},u.get({contestId:t.contestId}).$promise.then(function(n){t.contest=n;var a=i("filter")(e.user.judging,{contest_id:t.contestId,status:1}),r=i("filter")(e.user.judging,{contest_id:t.contestId,status:0}),s=i("filter")(e.user.contesting,{contest_id:t.contestId,status:1}),c=i("filter")(e.user.contesting,{contest_id:t.contestId,status:0});"undefined"!=typeof a&&(a.length>0&&"jury"!==e.activeRole&&"creator"!==e.activeRole?(e.flashNotices.juryView.show=!0,e.flashNotices.juryView.contestId=n.id,e.flashNotices.juryView.onClick=function(){o.go("app.contest",{role:"jury",contestId:n.id})}):"jury"===e.activeRole&&a.length>0&&(t.data.showJudgeNdaCompleted=!0,t.loadEntries(e.activeRole))),"undefined"!=typeof r&&r.length>0&&(t.data.showJudgeNdaPending=!0),"undefined"!=typeof s&&s.length>0&&"creator"===e.activeRole&&(t.data.showContestantNdaCompleted=!0,t.loadEntries(e.activeRole)),"undefined"!=typeof c&&c.length>0&&(t.data.showContestantNdaPending=!0)})["finally"](function(){r(function(){e.$broadcast("stopLoading")},1e3)}),t.loadEntries=function(o){switch(o){case"jury":p.judgeEntries({contestId:t.contestId,judgeId:e.user.id}).$promise.then(function(e){t.contest.entries=angular.copy(e)});break;case"creator":var n=i("filter")(e.user.user_roles,{role:"creator"},!0);if(n.length>0){var a=n[0];p.contestantEntries({contestId:t.contestId,creatorId:a.id}).$promise.then(function(e){t.contest.entries=angular.copy(e)})}}},t.selectEntry=function(o){t.data.addEntry=!1,t.data.selectedEntry=o,s.toSection(".entries-list");var n=null;"jury"===e.activeRole&&(n=e.user.id),null!==n?c.get(l.path("entries/")+o.id+"/judge/"+n).then(function(e){t.data.selectedEntry=e.data,t.data.selectedEntry.rating=e.data.rating,t.data.selectedEntry.gallery=["images/1.png","images/2.png","images/3.png"],r(function(){$(".chatbox").animate({scrollTop:1e4})},100)}):p.get({entryId:o.id}).$promise.then(function(e){t.data.selectedEntry=e,t.data.selectedEntry.gallery=["images/1.png","images/2.png","images/3.png"],r(function(){$(".chatbox").animate({scrollTop:1e4})},100)})},t.openLightbox=function(e){var o=t.data.selectedEntry.files,n=[],a=0;for(var i in o){var r=o[i];n.push(r.url),r.url===e.url&&(a=i)}d.openModal(n,a)},t.$on("flow::fileAdded",function(e,t,o){e.preventDefault(),console.log("fileAdded"),console.log(t),console.log(o)}),t.entryFileSuccess=function(e,o){var n=JSON.parse(o);console.log(e),console.log("Adding files : "+n.file.id),e.ref_id=n.file.id;var a=t.data.addEntryForm.attachedFiles.indexOf(n.file.id);-1===a&&t.data.addEntryForm.attachedFiles.push({id:n.file.id,caption:""})},t.entryFileRemove=function(e,o){var n=t.data.addEntryForm.attachedFiles.indexOf(e.ref_id);-1!==n&&t.data.addEntryForm.attachedFiles.splice(n,1);var a=o.files.indexOf(e);-1!==a&&(console.log("remove files ... "+a),o.files.splice(a,1)),console.log(o.files),console.log(t.data.addEntryForm.attachedFiles)},t.showAddEntry=function(){s.toSection(".entries-list"),t.data.selectedEntry=null,t.data.addEntry=!0,t.data.addEntryForm.description="",t.data.addEntryForm.attachedFiles=[],t.data.addEntryForm.description=t.contest.entries[t.contest.entries.length-1].description},t.submitEntry=function(){t.data.savingEntry=!0;var o={},n=null;angular.forEach(t.data.addEntryForm.flow.files,function(e){o[e.ref_id]={caption:e.ref_caption},console.log("prepare to assign thumbnail"),-1!==e.file.type.indexOf("image")&&null===n&&(console.log("whoopie it matches"),n=e.ref_id)});var a=i("filter")(e.user.user_roles,{role:"creator"},!0);if(a.length>0){var s=a[0],c=new p;c.creator_id=s.id,c.contest_id=t.contest.id,c.thumbnail_id=n,c.name=e.user.name+"'s Entry",c.description=t.data.addEntryForm.description,c.attached_files=o,console.log(c.thumbnail_id),c.$save().then(function(e){console.log("Entry Saved!"),console.log(e),t.data.savingEntry=!1,t.data.savedEntry=!0,r(function(){t.data.selectedEntry=!1,t.selectEntry(e),t.loadEntries("creator")},1e3)})}},t.sendMessage=function(){var e={message:t.data.messageToSend};p.sendMessage({entryId:t.data.selectedEntry.id},e,function(e){t.data.selectedEntry.messages.push(e),t.data.messageToSend="",r(function(){$(".chatbox").animate({scrollTop:1e4})},100)})},t.saveMarks=function(o){t.data.savingMarks=!0;var n={design:t.data.selectedEntry.rating.design,creativity:t.data.selectedEntry.rating.creativity,industrial:t.data.selectedEntry.rating.industrial,market:t.data.selectedEntry.rating.market};if(n.judge_id=e.user.id,n.entry_id=t.data.selectedEntry.id,"undefined"!=typeof o)g.update({entryRatingId:o},n).$promise.then(function(e){"error"!==e&&(console.log("entry rating saved!"),t.data.savingMarks=!1,t.data.savedMarks=!0,t.loadEntries("jury"),r(function(){t.data.savedMarks=!1},1e3))});else{var a=new g(n);a.$save().then(function(e){"error"!==e&&(console.log("entry rating created!"),t.data.savingMarks=!1,t.data.savedMarks=!0,t.loadEntries("jury"),r(function(){t.data.savedMarks=!1},1e3))})}},t.becomeJudge=function(){s.toSection(".contest-single",50),t.data.showJudgeNda=!0},t.acceptJudge=function(){t.data.showJudgeNdaLoading=!0,c.post(l.path("users/becomeJudge"),{contest_id:t.contest.id}).then(function(e){"undefined"==typeof e.data.error&&(t.data.showJudgeNdaSuccess=!0,r(function(){s.toTop(),t.data.showJudgeNda=!1},1e3))})["finally"](function(){t.data.showJudgeNdaLoading=!1})},t.becomeContestant=function(){s.toSection(".contest-single",50),t.data.showContestantNda=!0},t.acceptContestant=function(){t.data.showContestantNdaLoading=!0,c.post(l.path("users/becomeContestant"),{contest_id:t.contest.id}).then(function(e){"undefined"==typeof e.data.error&&(t.data.showContestantNdaSuccess=!0,r(function(){s.toTop(),t.data.showContestantNda=!1},1e3))})["finally"](function(){t.data.showContestantNdaLoading=!1})},t.checkFollow=function(e,o,n){var a=n.target,i=1==e?"Unfollow":"Follow";bootbox.confirm("Are you sure you want to "+i+" ?",function(n){n&&(1==e?(t.unFollow(o),$(a).removeClass("btn-success").addClass("btn-danger"),$(a).text("Follow")):(t.follow(o),$(a).removeClass("btn-danger").addClass("btn-success"),$(a).text("Following")))})},t.follow=function(e){var t={targetId:e};c.post(l.path("follow"),t).success(function(e){console.log(e)})},t.unFollow=function(e){var t={targetId:e};c.post(l.path("unfollow"),t).success(function(e){console.log(e)})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("CreateCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$timeout","$filter","FdScroller","API",function(e,t,o,n,a,i,r,s,c){
e.$broadcast("stopLoading"),e.sectionLoading=!0,e.innerSectionLoading=!1,t.project=null,t.view="list",t.data={newProjectLoading:!1},t.productCategories=[],t.innovationCategories=[];var d=a(c.path("categories/:type/:categoryId"),{categoryId:"@id"});t.fetchCategories=function(){d.query({type:"product"}).$promise.then(function(e){t.productCategories=e,console.log("product categories : "+e)},function(){console.log("failed to retrive the product cateories")}),d.query({type:"innovation"}).$promise.then(function(e){t.innovationCategories=e,console.log("innovation categories : "+e)},function(){console.log("failed to retrive the innovation cateories")})},t.fetchCategories(),t.steps=[{title:"Your Project",progress:0,isOpen:!1,ongoing:!1,state:"app.create.details",body:'<h3>Great!</h3><p><dfn>You have been completed a very important step, we will now be able to communicate efficiently.</dfn></p><p><dfn>Your great idea will be under the TOYS & AMUSEMENTSâ€ category.</dfn></p><p><dfn>In order to make your project come true we will go through 4 steps.</dfn></p><p><dfn>Beforehand, make sure to read all tutorials (with link) and make sure you understand the concept of Fundator.</dfn></p><p><a href="#" class="btn btn-info marginT10">I read the tutorial and guidelines. I want to start.</a></p>'},{title:"Meet your Super Expert",progress:0,isOpen:!1,ongoing:!1,state:"app.create.superexpert",body:'<h3>Expertise you need</h3><p><dfn>You have been completed a very important step, we will now be able to communicate efficiently.</dfn></p><p><dfn>Your great idea will be under the TOYS & AMUSEMENTSâ€ category.</dfn></p><p><dfn>In order to make your project come true we will go through 4 steps.</dfn></p><p><dfn>Beforehand, make sure to read all tutorials (with link) and make sure you understand the concept of Fundator.</dfn></p><p><a href="#" class="btn btn-info marginT10">I read the tutorial and guidelines. I want to start.</a></p>'},{title:"Expertise you need",progress:0,isOpen:!1,ongoing:!1,state:"app.create.expertise",body:'<h3>Expertise you need</h3><p><dfn>You have been completed a very important step, we will now be able to communicate efficiently.</dfn></p><p><dfn>Your great idea will be under the TOYS & AMUSEMENTSâ€ category.</dfn></p><p><dfn>In order to make your project come true we will go through 4 steps.</dfn></p><p><dfn>Beforehand, make sure to read all tutorials (with link) and make sure you understand the concept of Fundator.</dfn></p><p><a href="#" class="btn btn-info marginT10">I read the tutorial and guidelines. I want to start.</a></p>'},{title:"Experts on your team",progress:0,isOpen:!1,ongoing:!1,state:"app.create.experts",body:'<h3>Experts on your team</h3><p><dfn>You have been completed a very important step, we will now be able to communicate efficiently.</dfn></p><p><dfn>Your great idea will be under the TOYS & AMUSEMENTSâ€ category.</dfn></p><p><dfn>In order to make your project come true we will go through 4 steps.</dfn></p><p><dfn>Beforehand, make sure to read all tutorials (with link) and make sure you understand the concept of Fundator.</dfn></p><p><a href="#" class="btn btn-info marginT10">I read the tutorial and guidelines. I want to start.</a></p>'},{title:"Validate the budget",progress:0,isOpen:!1,ongoing:!1,state:"app.create.budget",body:'<h3>Validate the budget</h3><p><dfn>You have been completed a very important step, we will now be able to communicate efficiently.</dfn></p><p><dfn>Your great idea will be under the TOYS & AMUSEMENTSâ€ category.</dfn></p><p><dfn>In order to make your project come true we will go through 4 steps.</dfn></p><p><dfn>Beforehand, make sure to read all tutorials (with link) and make sure you understand the concept of Fundator.</dfn></p><p><a href="#" class="btn btn-info marginT10">I read the tutorial and guidelines. I want to start.</a></p>'},{title:"Your investors",progress:0,isOpen:!1,ongoing:!1,state:"app.create.investors",body:'<h3>Your Investor</h3><p><dfn>You have been completed a very important step, we will now be able to communicate efficiently.</dfn></p><p><dfn>Your great idea will be under the TOYS & AMUSEMENTSâ€ category.</dfn></p><p><dfn>In order to make your project come true we will go through 4 steps.</dfn></p><p><dfn>Beforehand, make sure to read all tutorials (with link) and make sure you understand the concept of Fundator.</dfn></p><p><a href="#" class="btn btn-info marginT10">I read the tutorial and guidelines. I want to start.</a></p>'}],t.$watch("steps",function(e){angular.forEach(e,function(e){e.isOpen&&(o.go(e.state),s.toSection("#projectSteps"))})},!0),t.$watch("project",function(e){if("undefined"!=typeof e&&null!==e){for(var o=Math.floor(t.project.state),n=t.project.state-o,a=0;o>a;a++)t.steps[a].progress=1;t.steps[o].ongoing=!0,t.steps[o].isOpen=!0,t.steps[o].progress=n}},!0);var l=a(c.path("projects/:projectId"),{projectId:"@id"},{update:{method:"PUT"}}),u="creator",p=r("filter")(e.user.user_roles,{role:u},!0);if("undefined"!=typeof p&&p.length>0){var g=p[0];e.activeRole!==u&&e.switchUserRole(u,g.id,!0);var f=parseInt(n.projectId);console.log("getting stuff"),"undefined"==typeof f||isNaN(f)?(console.log("getting draft_only"),l.query({draft_only:1,fd_active_role:e.activeRole}).$promise.then(function(e){t.allProjects=e})["finally"](function(){e.sectionLoading=!1})):angular.isNumber(f)&&isFinite(f)&&l.get({projectId:f,fd_active_role:e.activeRole}).$promise.then(function(e){t.project=e})["finally"](function(){e.sectionLoading=!1,e.innerSectionLoading=!0})}else i(function(){e.sectionLoading=!1,o.go("app.projects")},2e3);t.goToProject=function(e){o.go("app.create.details",{projectId:e.id})},t.createNewProject=function(){t.data.newProjectLoading=!0;(new l).$save().then(function(e){t.goToProject(e),t.data.newProjectLoading=!1})},t.saveProgress=function(){var e=angular.copy(t.project);console.log(e),"undefined"!=typeof t.project&&l.update({projectId:t.project.id},e).$promise.then(function(e){console.log("result"),console.log(e)})},s.toTop()}]),angular.module("fundator.controllers").controller("CreateDetailsCtrl",["$rootScope","$scope","$state","$stateParams","$resource","FdScroller",function(e,t,o,n,a,i){t.data={featuredImage:{},datepicker:{isOpen:!1}},t.details={name:"",geography:"wherever"},t.languages=["English","Chinese","French","Korean"],t.countries=[{code:"us",name:"United States"},{code:"cn",name:"China"},{code:"fr",name:"France"},{code:"kr",name:"South Korea"}],t.tagTransform=function(e){var t={name:e};return t},t.$watch("project",function(o){null!==o?(t.details=o,e.innerSectionLoading=!1):console.log("project still loading")}),t.$on("flow::fileAdded",function(e,t,o){e.preventDefault()}),t.featuredImageSuccess=function(e,o){var n=JSON.parse(o);t.project.thumbnail_id=n.file.id,t.project.thumbnail=n.file.file_url,t.saveProgress()},t.attachedFilesSuccess=function(e,o){var n=JSON.parse(o),a=t.project.attachedFiles.indexOf(n.file.id);-1===a&&t.project.attachedFiles.push(n.file.id)},t.submitDraft=function(){t.project.state=.9,t.saveProgress(),i.toSection(".steps-content")},i.toSection("#projectSteps")}]),angular.module("fundator.controllers").controller("CreateSECtrl",["$rootScope","$scope","$state","$http","$timeout","FdScroller","API",function(e,t,o,n,a,i,r){console.log("CreateSECtrl Started"),n.get(r.path("super-experts")).then(function(e){t.superExperts=e.data,console.log(t.superExperts)})["finally"](function(){e.innerSectionLoading=!1}),t.chooseSuperExpert=function(e){console.log(t.project),t.project.super_expert_id=e.id,t.saveProgress(),i.toSection(".steps-content"),a(function(){o.go("app.create.expertise")},300)}}]),angular.module("fundator.controllers").controller("CreateExpertiseCtrl",["$rootScope","$scope","$state","$resource","$http","$timeout","FdScroller","API",function(e,t,o,n,a,i,r,s){console.log("CreateExpertiseCtrl Started"),e.innerSectionLoading=!0,t.inputtedExpertiseList=[],t.expertiseList=[],t.inputtedEpxertise=null,t.savingExpertise=!1,t.loadedOnce=!1;var c=n(s.path("/projects/:projectId/expertise"),{projectId:"@id"});t.fetchExpertise=function(){c.query({projectId:t.project.id}).$promise.then(function(e){t.expertiseList=e})["finally"](function(){e.innerSectionLoading=!1,t.loadedOnce=!0})},t.$watch("project",function(e){"undefined"!=typeof e&&null!==e&&t.fetchExpertise()}),t.saveExpertise=function(e){t.savingExpertise=!0;var o={task:e.mainTask,budget:e.budget,lead_time:e.leadTime,start_date:e.startDate};null!==e.selectedExpertise?o.expertise_id=e.selectedExpertise.id:o.other_expertise=e.otherExpertise,null!==e.selectedExpertiseSubCategory?o.expertise_sub_category_id=e.selectedExpertiseSubCategory.id:o.other_expertise_sub_category=e.otherExpertiseSubCategory,null!==e.selectedExpertiseCategory?o.expertise_category_id=e.selectedExpertiseCategory.id:o.other_expertise_category=e.otherExpertiseCategory,a.post(s.path("/projects/")+t.project.id+"/expertise",o).then(function(e){console.log(e.data),t.expertiseList.push(e.data)})["finally"](function(){t.savingExpertise=!1}),t.inputtedExpertiseList=[],t.inputtedEpxertise=null},t.saveExpertiseSelection=function(){t.project.state=2.9,t.saveProgress(),r.toSection(".steps-content")},t.addNewInputtedExpertise=function(){var e={selectedExpertise:"null",otherExpertise:{status:1}};t.inputtedExpertiseList.length<3&&null!==e.selectedExpertise&&0!==e.otherExpertise.status&&(t.inputtedExpertiseList.push({expertiseCategoryList:[],expertiseSubCategoryList:[],expertiseList:[],selectedExpertiseCategory:null,otherExpertiseCategory:{name:"",status:0},selectedExpertiseSubCategory:null,otherExpertiseSubCategory:{name:"",status:0},selectedExpertise:null,otherExpertise:{name:"",status:0},mainTask:"",budget:"",leadTime:"",startDate:"",step:1,loading:!1}),t.inputtedEpxertise=t.inputtedExpertiseList[t.inputtedExpertiseList.length-1]),t.fetchExpertiseCategory(t.inputtedExpertiseList.length-1)},t.selectExpertiseCategory=function(e,o,n){0===n?(t.inputtedExpertiseList[e].selectedExpertiseCategory=o,t.inputtedExpertiseList[e].step=2,t.fetchExpertiseSubCategory(e)):(t.inputtedExpertiseList[e].selectedExpertiseSubCategory=o,t.inputtedExpertiseList[e].step=3,t.fetchExpertiseList(e))},t.deselectExpertiseCategory=function(e,o,n){0===n?(t.inputtedExpertiseList[o].selectedExpertiseCategory=null,t.inputtedExpertiseList[o].otherExpertiseCategory={name:"",status:0},t.inputtedExpertiseList[o].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[o].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[o].selectedExpertise=null,t.inputtedExpertiseList[o].otherExpertise={name:"",status:0}):(t.inputtedExpertiseList[o].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[o].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[o].selectedExpertise=null,t.inputtedExpertiseList[o].otherExpertise={name:"",status:0}),e.stopPropagation()},t.saveOtherExpertiseCategory=function(e,o){0===o?(t.inputtedExpertiseList[e].selectedExpertiseCategory=null,t.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[e].selectedExpertise=null,t.inputtedExpertiseList[e].otherExpertise={name:"",status:0},$regscope.inputtedExpertiseList[e].otherExpertiseCategory.status=1,t.inputtedExpertiseList[e].step=2):(t.inputtedExpertiseList[e].selectedExpertiseSubCategory=null,t.inputtedExpertiseList[e].selectedExpertise=null,t.inputtedExpertiseList[e].otherExpertise={name:"",status:0},t.inputtedExpertiseList[e].otherExpertiseSubCategory.status=1,t.inputtedExpertiseList[e].step=3)},t.removeOtherExpertiseCategory=function(e,o){0===o?(t.inputtedExpertiseList[e].otherExpertiseCategory={name:"",status:0},t.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[e].otherExpertise={name:"",status:0}):(t.inputtedExpertiseList[e].otherExpertiseSubCategory={name:"",status:0},t.inputtedExpertiseList[e].otherExpertise={name:"",status:0})},t.selectExpertise=function(e,o){t.inputtedExpertiseList[e].selectedExpertise=o,t.inputtedExpertiseList[e].otherExpertise={name:"",status:0},t.inputtedExpertiseList[e].step=4},t.deselectExpertise=function(e,o){t.inputtedExpertiseList[o].selectedExpertise=null,e.stopPropagation(o)},t.saveOtherExpertise=function(e){t.inputtedExpertiseList[e].selectedExpertise=null,t.inputtedExpertiseList[e].otherExpertise.status=1,t.inputtedExpertiseList[e].step=4},t.removeOtherExpertise=function(e){t.inputtedExpertiseList[e].otherExpertise={name:"",status:0}},t.fetchExpertiseCategory=function(e){t.inputtedExpertiseList[e].expertiseCategoryList=[],t.inputtedExpertiseList[e].loading=!0,a.get(s.path("/expertise-category/0")).then(function(o){t.inputtedExpertiseList[e].expertiseCategoryList=o.data,t.inputtedExpertiseList[e].loading=!1})},t.fetchExpertiseSubCategory=function(e){t.expertiseSubCategoryList=[],t.inputtedExpertiseList[e].loading=!0,a.get(s.path("/expertise-category/")+t.inputtedExpertiseList[e].selectedExpertiseCategory.id).then(function(o){t.inputtedExpertiseList[e].expertiseSubCategoryList=o.data,t.inputtedExpertiseList[e].loading=!1})},t.fetchExpertiseList=function(e){t.inputtedExpertiseList[e].expertiseList=[],t.inputtedExpertiseList[e].loading=!0,a.get(s.path("/expertise/category/")+t.inputtedExpertiseList[e].selectedExpertiseSubCategory.id).then(function(o){t.inputtedExpertiseList[e].expertiseList=o.data,t.inputtedExpertiseList[e].loading=!1},2e3)}}]),angular.module("fundator.controllers").controller("CreateExpertCtrl",["$rootScope","$scope","$state","$resource","$http","$timeout","API","SweetAlert","FdScroller",function(e,t,o,n,a,i,r,s,c){console.log("CreateExpertCtrl Started"),t.data={selectedBid:null};var d=n(r.path("/projects/:projectId/expertise"),{projectId:"@id"});t.fetchExpertise=function(){d.query({projectId:t.project.id}).$promise.then(function(e){t.expertiseList=e})["finally"](function(){e.innerSectionLoading=!1})},t.$watch("project",function(e){"undefined"!=typeof e&&null!==e&&t.fetchExpertise()}),t.shortlistExpert=function(e,t){"undefined"==typeof e.shortlist&&(e.shortlist=[]),e.shortlist.push(t)},t.isShortlistExpert=function(e,t){return"undefined"!=typeof e.shortlist?-1!==e.shortlist.indexOf(t):!1},t.removeShortlistExpert=function(e,t){var o=e.shortlist.indexOf(t);-1!==o&&e.shortlist.splice(o,1)},t.discussExpert=function(e,o){t.data.selectedBid=o},t.hideDiscussExpert=function(){t.data.selectedBid=null},t.selectExpert=function(e,t){s.swal({title:"Are you sure?",text:"You are selecting "+t.expert.name+" to complete your task.",type:"warning",showCancelButton:!0,confirmButtonColor:"#F8C486",confirmButtonText:"Yes, go ahead!",cancelButtonText:"Cancel",closeOnConfirm:!1,closeOnCancel:!0},function(o){o&&a.put(r.path("/project-expertise/"+e.id+"/bid/"+t.id),{}).then(function(o){"undefined"==typeof o.data.error&&(e.selected_bid=t,s.swal("Selected!","You have selected the expert.","success"))})})},t.confirmExperts=function(){t.project.state=3.9,t.saveProgress(),c.toSection(".steps-content")}}]),angular.module("fundator.controllers").controller("CreateBudgetCtrl",["$rootScope","$scope","$state","$resource","API","FdScroller",function(e,t,o,n,a,i){console.log("CreateBudgetCtrl Started"),e.innerSectionLoading=!0;var r=n(a.path("project-finance/:projectFinanceId"),{projectFinanceId:"@id"},{update:{method:"PUT"}});t.data={startMonthRepayment:"3",investorSliderRange:[5,15],paybackDuration:null},t.projectFinance={base_budget:600,adjustment_margin:10,self_funding_amount:0,funding_amount:0,payable_intrest:15,payback_duration:6,payback_duration_extended:2,investors_message_creator:"",investors_message_se:""},t.$watch("project",function(o){"undefined"!=typeof o&&null!==o&&r.get({projectFinanceId:o.project_finance_id}).$promise.then(function(e){t.projectFinance=e,t.data.investorSliderRange[0]=e.investors_min,t.data.investorSliderRange[1]=e.investors_max,t.data.paybackDuration=""!==e.mini_plan?JSON.parse(e.mini_plan):t.getPaybackDuration(),t.data.oldPaybackDuration=angular.copy(t.data.paybackDuration)})["finally"](function(){e.innerSectionLoading=!1})}),t.$watch("projectFinance",function(e){"undefined"!=typeof e&&t.data.oldPaybackDuration!==t.data.paybackDuration&&(t.data.paybackDuration=t.getPaybackDuration())},!0),t.getRepaymentMonths=function(){var e=angular.copy(t.projectFinance.payback_duration),o=[];e>=12&&(e=11);for(var n=0;e>n;n++)o.push(n);return o},t.getTotalBudget=function(e){var o=t.projectFinance.base_budget+t.projectFinance.base_budget*(t.projectFinance.adjustment_margin/100);if(e){var n=angular.copy(t.projectFinance.payback_duration),a=t.projectFinance.payable_intrest/12,i=a*n;o+=o*(i/100)}return o},t.getRemainingBudget=function(e){var o=t.projectFinance.base_budget-t.projectFinance.self_funding_amount,n=o+o*(t.projectFinance.adjustment_margin/100);if(e){var a=angular.copy(t.projectFinance.payback_duration),i=t.projectFinance.payable_intrest/12,r=i*a;n+=n*(r/100)}return n},t.getPaybackDuration=function(){if(t.projectFinance.payback_duration===t.data.oldPaybackDuration)return t.data.paybackDurationArray;var e=[];t.data.oldPaybackDuration=angular.copy(t.projectFinance.payback_duration);for(var o=angular.copy(t.projectFinance.payback_duration),n=Math.floor(o/12),a=o%12,i=0;n>i;i++){for(var r=[],s=0;12>s;s++)r.push({sold:0});e.push(r)}if(a>0){for(var c=[],d=0;a>d;d++)c.push({sold:0});e.push(c)}return t.data.paybackDurationArray=angular.copy(e),angular.copy(e)},t.saveInvestorLimit=function(){t.projectFinance.investors_min=t.data.investorSliderRange[0],t.projectFinance.investors_max=t.data.investorSliderRange[1],t.saveFinanceProgress()},t.saveFinanceProgress=function(){var e=angular.copy(t.projectFinance);e.funding_amount=t.getTotalBudget()-e.self_funding_amount,"undefined"!=typeof e&&r.update({projectFinanceId:e.id},e).$promise.then(function(e){console.log("result"),console.log(e)})},t.confirmBudget=function(){t.projectFinance.mini_plan=JSON.stringify(t.data.paybackDuration),t.saveFinanceProgress(),t.project.state=4.9,t.saveProgress(),i.toSection(".steps-content")}}]),angular.module("fundator.controllers").controller("CreateInvestorsCtrl",["$rootScope","$scope","$state","$http","$filter","API","SweetAlert",function(e,t,o,n,a,i,r){console.log("CreateInvestorsCtrl Started"),t.investmentBids=[],t.shortlistBid=function(e){e.type="shortlist",n.put(i.path("/projects/"+e.project.id+"/investment-bids/"+e.id),e).then(function(o){o&&(t.investmentData.shortlist_bids.push(e),t.investmentData.amount_shortlist=t.investmentData.amount_shortlist+e.bid_amount_max)})},t.unShortlistBid=function(e){e.type="",n.put(i.path("/projects/"+e.project.id+"/investment-bids/"+e.id),e).then(function(o){if(o){var n=t.investmentData.shortlist_bids.indexOf(e);t.investmentData.shortlist_bids.splice(n,1),t.investmentData.amount_shortlist=t.investmentData.amount_shortlist-e.bid_amount_max}})},t.unSelectBid=function(e){r.swal({title:"Are you sure?",text:"You are removing an investment bid from : "+e.investor.name+" "+e.investor.last_name,type:"warning",showCancelButton:!0,confirmButtonColor:"#F8C486",confirmButtonText:"Yes, go ahead!",cancelButtonText:"Cancel",closeOnConfirm:!1,closeOnCancel:!0},function(o){o&&(e.type="",n.put(i.path("/projects/"+e.project.id+"/investment-bids/"+e.id),e).then(function(o){if(o){var n=t.investmentData.shortlist_bids.indexOf(e);t.investmentData.shortlist_bids.splice(n,1),t.investmentData.amount_selected=t.investmentData.amount_selected-e.bid_amount_max}r.swal("Removed!","You have removed an Investor!","success")}))})},t.selectBid=function(e){r.swal({title:"Are you sure?",text:"You are selecting an investment bid from :  "+e.investor.name+" "+e.investor.last_name,type:"warning",showCancelButton:!0,confirmButtonColor:"#F8C486",confirmButtonText:"Yes, go ahead!",cancelButtonText:"Cancel",closeOnConfirm:!1,closeOnCancel:!0},function(o){o&&(e.type="select",n.put(i.path("/projects/"+e.project.id+"/investment-bids/"+e.id),e).then(function(o){o&&(t.investmentData.selected_bids.push(e),t.investmentData.amount_selected=t.investmentData.amount_selected+e.bid_amount_max),r.swal("Selected!","You have selected an Investor!","success")},function(){r.swal("Error!","Investor could not be selected","error")}))})},t.switchSource=function(e){switch(e){case"shortlist":t.bidSource=t.investmentData.shortlist_bids,t.bidSourceType="shortlist";break;case"selected":t.bidSource=t.investmentData.selected_bids,t.bidSourceType="selected";break;default:t.bidSource=t.investmentData.all_bids,t.bidSourceType="all"}},t.$watch("project",function(o){"undefined"!=typeof o&&null!==o&&n.get(i.path("/projects/"+o.id+"/investment-bids")).then(function(e){t.investmentData=e.data;var o=angular.copy(t.investmentData.shortlist_bids),n=[],i=angular.copy(t.investmentData.selected_bids),r=[];angular.forEach(o,function(e){var o=a("filter")(t.investmentData.all_bids,{id:e},!0)[0];n.push(o)}),t.investmentData.shortlist_bids=n,angular.forEach(i,function(e){var o=a("filter")(t.investmentData.all_bids,{id:e},!0)[0];r.push(o)}),t.investmentData.selected_bids=r,t.bidSource=t.investmentData.all_bids,t.bidSourceType="all"})["finally"](function(){e.innerSectionLoading=!1})}),t.confirmInvestors=function(){t.project.state=5.9,t.saveProgress(),FdScroller.toSection(".steps-content")}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("ExpertCtrl",["$rootScope","$scope","$state","$resource","$filter","$timeout","FdScroller","API",function(e,t,o,n,a,i,r,s){t.expertiseSource=null,t.availableExpertise=[],t.matchingExpertise=[],t.data={};var c=n(s.path("expertise/available")),d=n(s.path("expertise/matching"),{},{query:{method:"GET",isArray:!1}}),l="expert",u=a("filter")(e.user.user_roles,{role:l},!0),p=!1;if("undefined"!=typeof u&&u.length>0){var g=u[0];e.activeRole!==l?e.switchUserRole(l,g.id,!0):p=!0}else i(function(){e.$broadcast("stopLoading"),o.go("app.contests")},2e3);p&&(e.$broadcast("stopLoading"),c.query().$promise.then(function(e){t.availableExpertise=e,t.expertiseSource=t.availableExpertise}),d.query().$promise.then(function(e){t.matchingExpertise=e.expertise}))}]),angular.module("fundator.controllers").controller("ExpertiseCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","FdScroller","API",function(e,t,o,n,a,i,r,s){r.toTop(),t.data={},t.expertise=null;var c=a(s.path("/project-expertise/:expertiseId"),{expertiseId:"@id"});c.get({expertiseId:n.expertiseId}).$promise.then(function(o){t.expertise=o,e.$broadcast("stopLoading")}),t.submitBid=function(){t.data.bidLoading=!0;var e={bid_amount:t.data.bid_amount,description:t.data.bid_description};i.post(s.path("/project-expertise/")+n.expertiseId+"/bid",e).then(function(e){t.expertise.bid=e.data})["finally"](function(){t.data.bidLoading=!1})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("FooterController",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){t.notifications=null;var d=a(c.path("/contests/:contestId"),{contestId:"@id"});d.query().$promise.then(function(e){t.ongoingContests=e})}])}(),function(){"use strict";angular.module("fundator.controllers").controller("FlashNoticeCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$timeout",function(e,t,o,n,a,i){e.flashNotices={},e.flashNotices.juryView={show:!1,contestId:0,onClick:function(){console.log("onClick"),e.switchUserRole("jury",5,!0)}}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("HeaderCtrl",["$rootScope","$scope","$state","$auth","$uibModal",function(e,t,o,n,a){t.triggerLogin=function(){console.log("trigger login!");var e=a.open({animation:!0,templateUrl:"login.html",controller:"LoginCtrl",size:"md",windowClass:"login-modal"});e.result.then(function(){console.log("Got close feedback!")},function(){console.log("Modal dismissed at: "+new Date)})}}]),angular.module("fundator.controllers").controller("LoginCtrl",["$scope","$uibModalInstance",function(e,t){e.login=function(){console.log("logging in now !")},e.authenticate=function(){console.log("auth in now !")}}])}(),function(){"use strict";function e(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var o=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return new Blob([n],{type:o})}angular.module("fundator.controllers").controller("NavigationCtrl",["$rootScope","$scope","$state","$auth","$log","$timeout","$filter","$http","$resource","$uibModal","FileUploader","CountryCodes","API",function(t,o,n,a,i,r,s,c,d,l,u,p,g){o.allSkills=[],o.allSkills=d(g.path("skills")).query(),o.uploader=new u({url:g.path("files"),removeAfterUpload:!0}),o.data={userSettingsMode:"view",userSettingsSave:-1,socialConnect:{facebook:{},linkedin:{}},twoFA:{}},"undefined"!=typeof t.user&&(o.data.twoFA={countryCode:angular.copy(t.user.contact_number_country_code),number:angular.copy(t.user.contact_number),verificationCode:""}),o.countryCodes=new p,o.startTwoFAVerify=function(){o.data.twoFA.loading=!0;var e=1;e="undefined"!=typeof o.data.twoFA.countryCode.code?o.data.twoFA.countryCode.code:o.data.twoFA.countryCode;var t={via:"sms",country_code:parseInt(e),phone_number:parseInt(o.data.twoFA.number),locale:"en"};c.post(g.path("/verification/start"),t).then(function(e){e.data.success&&(o.data.twoFA.loading=!1,o.data.twoFA.codeSent=!0)},function(e){alert(JSON.stringify(e))})},o.completeTwoFAVerfiy=function(){o.data.twoFA.loading=!0;var e=1;e="undefined"!=typeof o.data.twoFA.countryCode.code?o.data.twoFA.countryCode.code:o.data.twoFA.countryCode;var n={country_code:parseInt(e),phone_number:parseInt(o.data.twoFA.number),verification_code:parseInt(o.data.twoFA.verificationCode)};c.post(g.path("/verification/check"),n).then(function(e){console.log("verification data"),console.log(e.data),e.data.success&&(o.data.twoFA.codeSent=!1,o.data.twoFA.verify=!1,t.user.phone_verified=1)},function(e){alert(JSON.stringify(e))})},o.socialConnect=function(e){o.data.socialConnect[e].loading=!0,a.authenticate(e).then(function(n){console.log("Logged in "),console.log(n),t.user[e]=!0,o.data.socialConnect[e].loading=!1})["catch"](function(t){console.log("Not Logged in "),console.log(t),alert(JSON.stringify(t)),o.data.socialConnect[e].loading=!1})},o.socialUnlink=function(e){var n=null;switch(o.data.socialConnect[e].loading=!0,e){case"facebook":n="unlinkFacebook";break;case"linkedin":n="unlinkLinkedin"}c.post(g.path("authenticate/")+n,{}).then(function(o){console.log(o),t.user[e]=null},function(e){alert(JSON.stringify(e))})["finally"](function(){o.data.socialConnect[e].loading=!1})},o.saveProfile=function(){var e=angular.copy(t.user);delete e.creator,delete e.investor,delete e.judging,o.data.userSettingsSave=0,c.put(g.path("users/")+t.user.id,e).then(function(e){"Updated"===e.data&&(o.data.userSettingsSave=1,o.data.userSettingsMode="view",r(function(){o.data.userSettingsSave=-1},1e3))},function(e){console.log("error")})["finally"](function(){r(function(){o.data.userSettingsSave=-1},1e3)})},o.changeThumbnail=function(){var n=l.open({animation:!0,templateUrl:"./views/app/app/header/user-thumbnail.html",controller:"UserThumbnailCtrl",size:"md"});n.result.then(function(n){t.user.thumbnail=angular.copy(n),o.uploader.onBeforeUploadItem=function(e){e.file.name="thumbnail_"+t.user.id+".png",e.formData=[],e.formData.push({attach:"thumbnail"}),e.formData.push({user_id:t.user.id})},o.uploader.onSuccessItem=function(e,t,o,n){console.log("updated user thumbnail"),console.log(t)},o.uploader.addToQueue(e(n)),o.uploader.uploadAll()},function(){i.info("Modal dismissed at: "+new Date)})},o.logout=function(){console.log("actually logging out! ..."),a.logout().then(function(){localStorage.removeItem("fundator_token"),t.authenticated=!1,t.user=void 0,t.isNavShown=!1,n.go("app.auth.login",{},{reload:!0})})},o.populateSideNavigation=function(){c.get(g.path("users/sideNavigationData")).then(function(e){"undefined"==typeof e.data.error&&(o.sideNavigationData=e.data)})},t.$watch("user",function(e){"undefined"!=typeof e&&t.initialRoleAssignment!==!1&&o.populateSideNavigation()}),o.openFullMenu=function(){t.isNavShown=1},o.goToLink=function(e,o,n){t.isNavShown=0;var a=s("filter")(t.user.user_roles,{role:n},!0);"undefined"!=typeof a&&a.length>0&&(n=a[0],t.switchUserRole(n.role,n.id,!0,e,o))}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("UserThumbnailCtrl",["$scope","$rootScope","$uibModalInstance",function(e,t,o){e.thumbnail=null,e.croppedThumbnail=null,e.fileName="No file selected",e.imageError=null;var n=function(t,o){t.stopPropagation(),t.preventDefault();var n=null;e.$apply(function(){e.dropable=!1}),n=t.originalEvent.dataTransfer?t.originalEvent.dataTransfer.files[0]:t.currentTarget.files[0];var a=new FileReader;return-1==n.type.indexOf("image")?void e.$apply(function(e){e.imageError="Please select a valid image to crop"}):(e.imageError=null,e.fileName=n.name,a.onload=function(t){e.$apply(function(e){console.log(t.target.result),e.thumbnail=t.target.result})},void(n&&a.readAsDataURL(n)))};$(document).on("dragover dragleave dragenter",".img-upload-show",function(e){e.stopPropagation(),e.preventDefault()}),$(document).on("dragenter",".img-upload-show",function(t){t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.dropable=!0})}),$(document).on("dragleave",".img-upload-show",function(t){t.stopPropagation(),t.preventDefault(),e.$apply(function(){e.dropable=!1})}),$(document).on("change","#fileInput",function(e){n(e,!1)}),$(document).on("drop",".img-upload-show",function(e){n(e,!0)}),e.setThumbnail=function(){o.close(e.croppedThumbnail)},e.cancel=function(){o.dismiss("cancel")}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("HomeCtrl",["$rootScope","$scope","$state","$stateParams","$http","$resource","FdScroller",function(e,t,o,n,a,i,r){console.log("Home View Started"),e.$broadcast("stopLoading"),r.toTop(),console.log("get the current user role"),console.log(e.activeRole)}])}(),function(){"use strict";angular.module("fundator.controllers").controller("GrabShareCtrl",["$rootScope","$scope","$state","$http","$timeout","FdScroller","API",function(e,t,o,n,a,i,r){function s(){t.data.primaryShareListing=null,n.get(r.path("share-listing")).then(function(e){t.data.primaryShareListing=e.data})}e.$broadcast("startLoading"),t.Math=window.Math,t.data={primaryShareListing:null,showBidNow:!1,myBid:{bid_amount:.72,num_shares:10,saving:!1}},i.toTop(),a(function(){e.$broadcast("stopLoading")},2e3),t.investors=[{name:"Alain Amoretti",country:"France",image:"1.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa eveniet deserunt ad pariatur praesentium, incidunt molestiae beatae quam quasi reiciendis mollitia accusantium voluptate quaerat sequi officia a facere repellat adipisci."},{name:"Charles d'anterroches",country:"France",image:"2.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Expedita dignissimos nemo, sequi doloribus accusantium, obcaecati natus iure quam esse ex labore neque consequatur voluptate in, nihil ea, cum recusandae ut."},{name:"Christophe Brissiaud",country:"China",image:"3.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo enim officia optio dolorum harum, soluta culpa unde veniam nobis eos, ducimus quod praesentium veritatis atque non nostrum ipsam. Nostrum, et!"},{name:"Jean-Bernard Antoine",country:"China",image:"4.jpeg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quia recusandae aliquid quos aperiam molestiae quibusdam qui eos iure saepe optio vitae fugit unde nam, atque excepturi deserunt est, repellat alias."},{name:"Xavier Paulin",country:"Taiwan",image:"5.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure inventore nesciunt illum, pariatur molestias dignissimos ipsa iste est. Sed, assumenda dolorum? Ab blanditiis quasi, voluptates iste iusto vero deserunt sunt."
},{name:"Cindy Chung",country:"Hong Kong",image:"6.jpg",bio:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure inventore nesciunt illum, pariatur molestias dignissimos ipsa iste est. Sed, assumenda dolorum? Ab blanditiis quasi, voluptates iste iusto vero deserunt sunt."}],s(),t.confirmBid=function(){t.data.myBid.saving=!0;var e={share_listing_id:t.data.primaryShareListing.id,bid_amount:t.data.myBid.bid_amount,num_shares:t.data.myBid.num_shares};n.post(r.path("share-bids"),e).then(function(e){t.data.myBid.saving=!1,"undefined"==typeof e.error&&(t.data.showBidNow=!1,s())})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("InvestCtrl",["$rootScope","$scope","$state","$resource","FdScroller",function(e,t,o,n,a){console.log("Invest Started"),e.$broadcast("stopLoading"),a.toTop()}]),angular.module("fundator.controllers").controller("InvestmentCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","FdScroller","API",function(e,t,o,n,a,i,r,s){console.log("Investment Started"),r.toTop(),t.data={paybackDuration:[]},t.investment={};var c=a(s.path("/projects/:projectId"),{projectId:"@id"}),d=a(s.path("project-finance/:projectFinanceId"),{projectFinanceId:"@id"});c.get({projectId:n.projectId,fd_active_role:e.activeRole}).$promise.then(function(o){t.project=o,d.get({projectFinanceId:o.project_finance_id}).$promise.then(function(o){t.project.finance=o,t.data.paybackDuration=JSON.parse(o.mini_plan),console.log(JSON.parse(o.mini_plan)),e.$broadcast("stopLoading")})}),t.submitBid=function(){t.data.bidLoading=!0;var e={bid_amount_min:t.data.bid_amount_min,bid_amount_max:t.data.bid_amount_max,description:t.data.bid_description};i.post(s.path("/projects/"+n.projectId+"/investment-bids"),e).then(function(e){t.investment.bid=e.data})["finally"](function(){t.data.bidLoading=!1})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("NotificationsCtrl",["$rootScope","$scope","$state","$stateParams","$http","FdNotifications","API",function(e,t,o,n,a,i,r){t.fetchNotifications=function(){t.notifications=null,t.notificationsLoading=!0,e.initialRoleAssignment&&i.getLatestNotifications().then(function(e){t.notifications=e.notifications})["finally"](function(){t.notificationsLoading=!1})},t.latestFeeds=function(){t.feeds=null,a.get(r.path("feed/show")).then(function(e){t.feeds=e.data})},t.latestFeeds(),t.notifications||t.fetchNotifications()}])}(),function(){"use strict";angular.module("fundator.controllers").controller("PageCtrl",["$rootScope","$scope","$state","$stateParams","$http","FdScroller","API",function(e,t,o,n,a,i,r){e.$broadcast("startLoading"),i.toTop(),t.page={title:"",content:""},a.get(r.path("pages")+n.slug).then(function(e){t.page=e.data},function(e){"404"==e.status&&console.log("load 404")})["finally"](function(){e.$broadcast("stopLoading")})}])}(),function(){"use strict";angular.module("fundator.controllers").controller("ProjectsCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},t.projects=[],t.sectionLoading=!0;var d=a(c.path("projects/:projectId"),{projectId:"@id"},{query:{method:"GET",isArray:!1}});d.query({fd_active_role:e.activeRole}).$promise.then(function(o){"creator"===e.activeRole?(t.projects=o.ongoing,t.draftProjects=o.draft):"expert"===e.activeRole?(t.ongoingTasks=o.ongoing,t.ongoingBids=o.bids,t.availableExpertise=o.available,t.matchingExpertise=o.matching,t.expertiseSource=t.availableExpertise):"investor"===e.activeRole&&(console.log("investable projects"),console.log(o),t.ongoingProjects=o.ongoing,t.investableProjects=o.investable)})["finally"](function(){r(function(){t.sectionLoading=!1},1e3)}),t.createNewProject=function(){t.data.newProjectLoading=!0;(new d).$save().then(function(e){t.goToProject(e),t.data.newProjectLoading=!1})},t.goToProject=function(e){o.go("app.create.details",{projectId:e.id})}}]),angular.module("fundator.controllers").controller("ProjectCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},t.project=null,t.sectionLoading=!0,t.sections=[{title:"PROJECT DETAILS",state:"app.project.details"},{title:"PUBLIC BOARD",state:"app.project.board"},{title:"TEAM",state:"app.project.team"}],t.goToSection=function(e){o.go(e)};var d=a(c.path("projects/:projectId"),{projectId:"@id"},{query:{method:"GET",isArray:!1}});d.get({projectId:n.projectId,fd_active_role:e.activeRole}).$promise.then(function(e){t.project=e})["finally"](function(){r(function(){t.sectionLoading=!1},1e3)})}]),angular.module("fundator.controllers").controller("ProjectDetailsCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},e.innerSectionLoading=!0,t.$watch("project",function(o){null!==o?(t.details=o,e.innerSectionLoading=!1):console.log("project still loading")})}]),angular.module("fundator.controllers").controller("ProjectTaskCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},e.innerSectionLoading=!0,t.$watch("project",function(o){null!==o?(console.log("got in now!"),t.myTasks=o.tasks,e.innerSectionLoading=!1):console.log("project still loading")})}]),angular.module("fundator.controllers").controller("ProjectTeamCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},e.innerSectionLoading=!0,t.$watch("project",function(o){null!==o?(t.details=o,e.innerSectionLoading=!1):console.log("project still loading")})}]),angular.module("fundator.controllers").controller("ProjectProgressCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},e.innerSectionLoading=!0,t.$watch("project",function(o){null!==o?(t.details=o,e.innerSectionLoading=!1):console.log("project still loading")})}]),angular.module("fundator.controllers").controller("ProjectBoardCtrl",["$rootScope","$scope","$state","$stateParams","$resource","$http","$timeout","$filter","API",function(e,t,o,n,a,i,r,s,c){e.$broadcast("stopLoading"),t.data={},e.innerSectionLoading=!0,t.$watch("project",function(o){null!==o?(t.details=o,e.innerSectionLoading=!1):console.log("project still loading")})}])}(),function(){"use strict";angular.module("fundator.controllers").controller("QuickUpdateCtrl",["$rootScope","$scope","$state","$stateParams","$resource","FdNotifications","API",function(e,t,o,n,a,i,r){t.data={editMode:!1};var s=a(r.path("investors/:investorId"),{investorId:"@id"},{update:{method:"PUT"}});t.editInvestment=function(e){t.data.editMode=e},t.modifyInvestment=function(){var o={investment_budget:e.user.investor.investment_budget};t.editInvestment(!1),s.update({investorId:e.user.investor.id},o).$promise.then(function(e){"undefined"==typeof e.error&&console.log(e)})}}])}(),function(){"use strict";angular.module("fundator.controllers").controller("TransactionCtrl",["$rootScope","$scope","$state","$stateParams","$http","$timeout","FdScroller",function(e,t,o,n,a,i,r){console.log("TransactionCtrl"),e.$broadcast("startLoading"),r.toTop(),i(function(){e.$broadcast("stopLoading")},2e3)}])}();